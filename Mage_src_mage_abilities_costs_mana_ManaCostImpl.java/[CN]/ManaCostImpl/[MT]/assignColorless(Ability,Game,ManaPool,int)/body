{
  int conditionalCount=pool.getConditionalCount(ability,game,null);
  while (mana > payment.count() && (pool.count() > 0 || conditionalCount > 0)) {
    if (pool.pay(ManaType.COLORLESS,ability,sourceFilter,game)) {
      this.payment.addColorless();
      continue;
    }
    if (pool.pay(ManaType.BLACK,ability,sourceFilter,game)) {
      this.payment.addBlack();
      continue;
    }
    if (pool.pay(ManaType.BLUE,ability,sourceFilter,game)) {
      this.payment.addBlue();
      continue;
    }
    if (pool.pay(ManaType.WHITE,ability,sourceFilter,game)) {
      this.payment.addWhite();
      continue;
    }
    if (pool.pay(ManaType.GREEN,ability,sourceFilter,game)) {
      this.payment.addGreen();
      continue;
    }
    if (pool.pay(ManaType.RED,ability,sourceFilter,game)) {
      this.payment.addRed();
      continue;
    }
    break;
  }
  return mana > payment.count();
}
