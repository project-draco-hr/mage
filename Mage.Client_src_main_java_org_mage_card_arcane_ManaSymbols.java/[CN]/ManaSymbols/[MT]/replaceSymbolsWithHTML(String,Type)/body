{
  value=value.replace("{source}","|source|");
  value=value.replace("{this}","|this|");
  String replaced=value;
  if (!MANA_IMAGES.isEmpty()) {
    int symbolSize;
switch (type) {
case TOOLTIP:
      symbolSize=FontSizeHelper.symbolTooltipSize;
    break;
case CARD:
  symbolSize=FontSizeHelper.symbolCardSize;
break;
case PAY:
symbolSize=FontSizeHelper.symbolPaySize;
break;
case EDITOR:
symbolSize=FontSizeHelper.symbolEditorSize;
break;
default :
symbolSize=11;
break;
}
replaced=REPLACE_SYMBOLS_PATTERN.matcher(value).replaceAll("<img src='file:" + getSymbolsPath(true) + "/symbols/"+ FontSizeHelper.basicSymbolSize+ "/$1$2.jpg' alt='$1$2' width="+ symbolSize+ " height="+ symbolSize+ ">");
}
replaced=replaced.replace("|source|","{source}");
replaced=replaced.replace("|this|","{this}");
return replaced;
}
