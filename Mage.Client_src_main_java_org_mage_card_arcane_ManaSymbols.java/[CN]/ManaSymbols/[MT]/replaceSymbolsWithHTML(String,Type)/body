{
  value=value.replace("{source}","|source|");
  value=value.replace("{this}","|this|");
  String replaced=value;
  if (!MANA_IMAGES.isEmpty()) {
    int symbolSize;
switch (type) {
case TOOLTIP:
      symbolSize=GUISizeHelper.symbolTooltipSize;
    break;
case CARD:
  symbolSize=GUISizeHelper.symbolCardSize;
break;
case PAY:
symbolSize=GUISizeHelper.symbolPaySize;
break;
case EDITOR:
symbolSize=GUISizeHelper.symbolEditorSize;
break;
default :
symbolSize=11;
break;
}
replaced=REPLACE_SYMBOLS_PATTERN.matcher(value).replaceAll("<img src='file:" + getSymbolsPath(true) + "/symbols/"+ GUISizeHelper.basicSymbolSize+ "/$1$2.jpg' alt='$1$2' width="+ symbolSize+ " height="+ symbolSize+ ">");
}
replaced=replaced.replace("|source|","{source}");
replaced=replaced.replace("|this|","{this}");
return replaced;
}
