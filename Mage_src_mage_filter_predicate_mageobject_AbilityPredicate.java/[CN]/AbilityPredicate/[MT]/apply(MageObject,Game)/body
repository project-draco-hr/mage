{
  Abilities<Ability> abilities;
  if (input instanceof Card) {
    abilities=((Card)input).getAbilities(game);
  }
 else {
    abilities=input.getAbilities();
  }
  for (  Ability ability : abilities) {
    if (abilityClass.equals(ability.getClass())) {
      if ((ability instanceof ActivatedAbilityImpl) && ability.getCosts().size() > 0) {
        for (        Cost cost : ability.getCosts()) {
          if (cost instanceof TapSourceCost) {
            return true;
          }
        }
        return false;
      }
 else {
        return true;
      }
    }
  }
  return false;
}
