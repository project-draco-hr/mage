{
  final MagePermanent perm=Plugins.getInstance().getMagePermanent(permanent,bigCard,Config.dimensions,gameId);
  if (!Plugins.getInstance().isCardPluginLoaded()) {
    perm.setBounds(findEmptySpace(new Dimension(Config.dimensions.frameWidth,Config.dimensions.frameHeight)));
  }
 else {
    perm.setAlpha(0);
  }
  permanents.put(permanent.getId(),perm);
  BattlefieldPanel.this.add(perm,10);
  if (!Plugins.getInstance().isCardPluginLoaded()) {
    moveToFront(perm);
    perm.update(permanent);
  }
 else {
    Thread t=new Thread(new Runnable(){
      @Override public void run(){
        Plugins.getInstance().onAddCard(perm);
      }
    }
);
synchronized (this) {
      threads.add(t);
    }
  }
}
