{
  String command=message.trim().toUpperCase(Locale.ENGLISH);
  if (command.equals("\\I") || command.equals("\\INFO")) {
    user.setInfo("");
    chatSessions.get(chatId).broadcastInfoToUser(user,message);
    return true;
  }
  if (command.startsWith("\\I ") || command.startsWith("\\INFO ")) {
    user.setInfo(message.substring(command.startsWith("\\I ") ? 3 : 6));
    chatSessions.get(chatId).broadcastInfoToUser(user,message);
    return true;
  }
  if (command.startsWith("\\W ") || command.startsWith("\\WHISPER ")) {
    String rest=message.substring(command.startsWith("\\W ") ? 3 : 9);
    int first=rest.indexOf(" ");
    if (first > 1) {
      String userToName=rest.substring(0,first);
      rest=rest.substring(first + 1).trim();
      User userTo=UserManager.getInstance().findUser(userToName);
      if (userTo != null) {
        if (!chatSessions.get(chatId).broadcastWhisperToUser(user,userTo,rest)) {
          message+=new StringBuilder("\nUser ").append(userToName).append(" not found").toString();
          chatSessions.get(chatId).broadcastInfoToUser(user,message);
        }
      }
 else {
        message+=new StringBuilder("\nUser ").append(userToName).append(" not found").toString();
        chatSessions.get(chatId).broadcastInfoToUser(user,message);
      }
      return true;
    }
  }
  if (command.equals("\\L") || command.equals("\\LIST")) {
    message+=new StringBuilder("\nList of commands:").append("\n\\info <text> - set a info text to your player").append("\n\\list - Show a list of commands").append("\n\\whisper <player name> <text> - Whiper to a player").toString();
    chatSessions.get(chatId).broadcastInfoToUser(user,message);
    return true;
  }
  return false;
}
