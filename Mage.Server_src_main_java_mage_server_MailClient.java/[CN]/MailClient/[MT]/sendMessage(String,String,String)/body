{
  if (email.length() == 0) {
    logger.info("Email is not sent because the address is empty");
    return false;
  }
  ConfigSettings config=ConfigSettings.getInstance();
  Properties properties=System.getProperties();
  properties.setProperty("mail.smtps.host",config.getMailSmtpHost());
  properties.setProperty("mail.smtps.port",config.getMailSmtpPort());
  properties.setProperty("mail.smtps.auth","true");
  properties.setProperty("mail.user",config.getMailUser());
  properties.setProperty("mail.password",config.getMailPassword());
  Session session=Session.getDefaultInstance(properties);
  try {
    MimeMessage message=new MimeMessage(session);
    message.setFrom(new InternetAddress(config.getMailFromAddress()));
    message.addRecipient(Message.RecipientType.TO,new InternetAddress(email));
    message.setSubject(subject);
    message.setText(text);
    Transport trnsport;
    trnsport=session.getTransport("smtps");
    trnsport.connect(null,properties.getProperty("mail.password"));
    message.saveChanges();
    trnsport.sendMessage(message,message.getAllRecipients());
    trnsport.close();
    return true;
  }
 catch (  MessagingException ex) {
    logger.error("Error sending message to " + email,ex);
  }
  return false;
}
