{
  if (GameManager.getInstance().getStackSize() > 0) {
    return false;
  }
  UUID activePlayer=null;
  Map<String,String> map=mapOthers;
  for (  PlayerView playerView : gameView.getPlayers()) {
    if (playerView.isActive()) {
      activePlayer=playerView.getPlayerId();
      if (activePlayer.equals(GameManager.getInstance().getCurrentPlayerUUID())) {
        map=mapYou;
      }
    }
  }
  if (activePlayer == null) {
    throw new IllegalStateException("No active player found.");
  }
  for (  Map.Entry<String,String> entry : map.entrySet()) {
    if (message.equals(entry.getKey())) {
      Preferences prefs=MageFrame.getPreferences();
      String prop=prefs.get(entry.getValue(),PHASE_ON);
      return !prop.equals(PHASE_ON);
    }
  }
  return false;
}
