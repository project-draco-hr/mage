{
  if (!super.match(permanent))   return false;
  if (ownerId.size() > 0 && ownerId.contains(permanent.getOwnerId()) == notOwner)   return false;
  if (controllerId.size() > 0 && controllerId.contains(permanent.getControllerId()) == notController)   return false;
  if (useTapped && permanent.isTapped() != tapped)   return false;
  if (useFlipped && permanent.isFlipped() != flipped)   return false;
  if (useFaceup && permanent.isFaceUp() != faceup)   return false;
  if (usePhased && permanent.isPhasedIn() != phasedIn)   return false;
  return true;
}
