{
  if (!super.match(permanent))   return notFilter;
  if (ownerId.size() > 0 && ownerId.contains(permanent.getOwnerId()) == notOwner)   return notFilter;
  if (controllerId.size() > 0 && controllerId.contains(permanent.getControllerId()) == notController)   return notFilter;
  if (useTapped && permanent.isTapped() != tapped)   return notFilter;
  if (useFlipped && permanent.isFlipped() != flipped)   return notFilter;
  if (useFaceup && permanent.isFaceUp() != faceup)   return notFilter;
  if (usePhased && permanent.isPhasedIn() != phasedIn)   return notFilter;
  return !notFilter;
}
