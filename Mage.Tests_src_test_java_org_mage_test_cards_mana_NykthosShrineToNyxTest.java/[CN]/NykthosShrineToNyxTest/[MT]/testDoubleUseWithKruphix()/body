{
  addCard(Zone.BATTLEFIELD,playerA,"Island",2);
  addCard(Zone.BATTLEFIELD,playerA,"Nykthos, Shrine to Nyx",1);
  addCard(Zone.BATTLEFIELD,playerA,"Kiora's Follower");
  addCard(Zone.BATTLEFIELD,playerA,"Kalonian Tusker",2);
  addCard(Zone.BATTLEFIELD,playerA,"Kruphix, God of Horizons",1);
  activateManaAbility(1,PhaseStep.PRECOMBAT_MAIN,playerA,"{2},{T}: Choose a color. Add to your mana pool an amount of mana of that color equal to your devotion to that color. <i>(Your devotion to a color is the number of mana symbols of that color in the mana costs of permanents you control.)</i>.");
  setChoice(playerA,"Green");
  activateAbility(1,PhaseStep.PRECOMBAT_MAIN,playerA,"{T}: Untap another target permanent.","Nykthos, Shrine to Nyx");
  activateManaAbility(1,PhaseStep.PRECOMBAT_MAIN,playerA,"{2},{T}: Choose a color. Add to your mana pool an amount of mana of that color equal to your devotion to that color. <i>(Your devotion to a color is the number of mana symbols of that color in the mana costs of permanents you control.)</i>.");
  setChoice(playerA,"Green");
  setStopAt(1,PhaseStep.BEGIN_COMBAT);
  execute();
  Assert.assertEquals("amount of colorless mana",10,playerA.getManaPool().getColorless());
  assertPowerToughness(playerA,"Kruphix, God of Horizons",4,7);
}
