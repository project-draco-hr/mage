{
  List<Class> cards=new ArrayList<Class>();
  if (!file.exists()) {
    return cards;
  }
  JarInputStream jarFile=null;
  try {
    jarFile=new JarInputStream(new FileInputStream(file));
    while (true) {
      JarEntry jarEntry=jarFile.getNextJarEntry();
      if (jarEntry == null) {
        break;
      }
      if (jarEntry.getName().endsWith(".class")) {
        String className=jarEntry.getName().replace('/','.').replace(".class","");
        String packageName=className.substring(0,className.lastIndexOf('.'));
        if (packages.contains(packageName)) {
          Class<?> clazz;
          try {
            clazz=Class.forName(className);
            if (CardImpl.class.isAssignableFrom(clazz)) {
              cards.add(clazz);
            }
          }
 catch (          ClassNotFoundException ex) {
          }
        }
      }
    }
  }
 catch (  IOException ex) {
  }
 finally {
    try {
      jarFile.close();
    }
 catch (    IOException ex) {
    }
  }
  return cards;
}
