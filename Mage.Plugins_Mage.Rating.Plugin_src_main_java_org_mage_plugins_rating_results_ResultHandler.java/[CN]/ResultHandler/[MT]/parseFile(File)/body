{
  Scanner s=new Scanner(f);
  while (s.hasNextLine()) {
    String line=s.nextLine();
    Matcher m=scorePattern.matcher(line);
    if (m.matches()) {
      String winner=m.group(1);
      String loser=m.group(2);
      Integer winnerRating=ratings.get(winner);
      if (winnerRating == null)       winnerRating=1000;
      Integer loserRating=ratings.get(loser);
      if (loserRating == null)       loserRating=1000;
      Integer newWinnerRating=coundEloRating(winnerRating,loserRating,true);
      Integer newLoserRating=coundEloRating(winnerRating,loserRating,false);
      log.info("Winner: " + winnerRating + " >> "+ newWinnerRating);
      log.info("Loser: " + loserRating + " >> "+ newLoserRating);
      ratings.put(winner,newWinnerRating);
      ratings.put(loser,newLoserRating);
    }
 else {
      log.warn("Doesn't match rate pattern: " + line);
    }
  }
  s.close();
}
