{
  EDTExceptionHandler.registerExceptionHandler();
  addWindowListener(new WindowAdapter(){
    @Override public void windowClosing(    WindowEvent e){
      exitApp();
    }
  }
);
  try {
    UIManager.setLookAndFeel("com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel");
  }
 catch (  Exception ex) {
    logger.log(Level.SEVERE,null,ex);
  }
  initComponents();
  session=new Session(this);
  connectDialog=new ConnectDialog(session);
  desktopPane.add(connectDialog,JLayeredPane.POPUP_LAYER);
  disableButtons();
}
