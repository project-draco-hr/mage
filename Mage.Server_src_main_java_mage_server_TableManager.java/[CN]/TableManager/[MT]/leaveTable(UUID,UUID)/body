{
  if (controllers.containsKey(tableId)) {
    if (isTableOwner(tableId,userId) && (getTable(tableId).getState().equals(TableState.WAITING) || getTable(tableId).getState().equals(TableState.STARTING))) {
      removeTable(tableId);
    }
 else {
      controllers.get(tableId).leaveTable(userId);
    }
  }
}
