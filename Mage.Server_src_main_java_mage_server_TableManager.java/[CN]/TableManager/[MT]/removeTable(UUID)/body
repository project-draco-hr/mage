{
  TableController tableController=controllers.get(tableId);
  if (tableController != null) {
    controllers.remove(tableId);
    tableController.cleanUp();
    Table table=tables.get(tableId);
    tables.remove(tableId);
    Match match=table.getMatch();
    Game game=null;
    if (match != null) {
      game=match.getGame();
      if (game != null && !game.hasEnded()) {
        game.end();
      }
    }
    if (!table.getState().equals(TableState.FINISHED)) {
      if (game != null) {
        GameManager.getInstance().removeGame(game.getId());
      }
      GamesRoomManager.getInstance().removeTable(tableId);
    }
  }
}
