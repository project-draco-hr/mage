{
  Ability newAbility;
  if (ability instanceof MageSingleton || !copyAbility) {
    newAbility=ability;
  }
 else {
    newAbility=ability.copy();
  }
  newAbility.setSourceId(attachedTo.getId());
  newAbility.setControllerId(attachedTo.getOwnerId());
  if (!cardState.containsKey(attachedTo.getId())) {
    cardState.put(attachedTo.getId(),new CardState());
  }
  cardState.get(attachedTo.getId()).addAbility(newAbility);
  addAbility(newAbility,attachedTo.getId(),attachedTo);
}
