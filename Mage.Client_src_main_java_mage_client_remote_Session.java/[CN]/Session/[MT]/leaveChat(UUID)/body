{
  lock.readLock().lock();
  try {
    if (server == null)     return false;
    server.leaveChat(chatId,sessionId);
    chats.remove(chatId);
    return true;
  }
 catch (  RemoteException ex) {
    handleRemoteException(ex);
  }
catch (  MageException ex) {
    handleMageException(ex);
  }
 finally {
    lock.readLock().unlock();
  }
  return false;
}
