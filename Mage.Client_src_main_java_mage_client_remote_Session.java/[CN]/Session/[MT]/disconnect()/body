{
  if (isConnected()) {
    try {
      for (      UUID chatId : chats.keySet()) {
        server.leaveChat(chatId,sessionId);
      }
    }
 catch (    Exception ex) {
    }
    try {
      if (server != null)       server.deregisterClient(sessionId);
    }
 catch (    RemoteException ex) {
      logger.fatal("Error disconnecting ...",ex);
    }
catch (    MageException ex) {
      logger.fatal("Error disconnecting ...",ex);
    }
    removeServer();
  }
}
