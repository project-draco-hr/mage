{
  if (isConnected()) {
    try {
      frame.hideTables();
      for (      UUID chatId : chats.keySet()) {
        server.leaveChat(chatId,sessionId);
      }
    }
 catch (    Exception ex) {
    }
    try {
      server.deregisterClient(sessionId);
      server=null;
      logger.info("Disconnected ... ");
    }
 catch (    RemoteException ex) {
      logger.log(Level.SEVERE,"Error disconnecting ...",ex);
    }
catch (    MageException ex) {
      logger.log(Level.SEVERE,"Error disconnecting ...",ex);
    }
    frame.setStatusText("Not connected ");
    frame.disableButtons();
  }
}
