{
  if (future != null && !future.isDone())   future.cancel(true);
  lock.writeLock().lock();
  try {
    server=null;
  }
  finally {
    lock.writeLock().unlock();
  }
  frame.hideGames();
  frame.hideTables();
  frame.setStatusText("Not connected");
  frame.disableButtons();
  logger.info("Disconnected ... ");
  JOptionPane.showMessageDialog(MageFrame.getDesktop(),"Disconnected.","Disconnected",JOptionPane.INFORMATION_MESSAGE);
}
