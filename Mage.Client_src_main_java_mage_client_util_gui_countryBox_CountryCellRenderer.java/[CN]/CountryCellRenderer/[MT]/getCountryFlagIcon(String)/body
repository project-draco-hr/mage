{
  ImageIcon flagIcon=flagIconCache.get(countryCode);
  if (flagIcon == null) {
    flagIcon=new javax.swing.ImageIcon(getClass().getResource("/flags/" + countryCode + (countryCode.endsWith(".png") ? "" : ".png")));
    if (flagIcon.getImage() == null) {
      logger.warn("Country flag resource not found: " + countryCode);
    }
 else {
      flagIconCache.put(countryCode,flagIcon);
    }
  }
  return flagIcon;
}
