{
  setBackground(new Color(0,0,0,100));
  setLayout(new BoxLayout(this,BoxLayout.PAGE_AXIS));
  setOpaque(false);
  JPanel container=new JPanel();
  container.setPreferredSize(new Dimension(100,30));
  container.setMinimumSize(new Dimension(20,20));
  container.setMaximumSize(new Dimension(2000,100));
  container.setLayout(new GridBagLayout());
  container.setOpaque(false);
  JPanel jPanel=new JPanel();
  textArea=new MageTextArea();
  textArea.setText("<Empty>");
  jPanel.setOpaque(false);
  jPanel.setBackground(new Color(0,0,0,80));
  jPanel.add(textArea);
  add(jPanel);
  add(container);
  btnSpecial=new JButton("Special");
  btnSpecial.setVisible(false);
  container.add(btnSpecial);
  btnLeft=new JButton("OK");
  btnLeft.setVisible(false);
  container.add(btnLeft);
  btnRight=new JButton("Cancel");
  btnRight.setVisible(false);
  container.add(btnRight);
  btnUndo=new JButton("Undo");
  btnUndo.setVisible(false);
  container.add(btnUndo);
  btnLeft.addActionListener(new java.awt.event.ActionListener(){
    @Override public void actionPerformed(    java.awt.event.ActionEvent evt){
      if (linkLeft != null) {
{
          Thread worker=new Thread(){
            @Override public void run(){
              SwingUtilities.invokeLater(new Runnable(){
                @Override public void run(){
                  setState("",false,"",false);
                  setSpecial("",false);
                  linkLeft.doClick();
                }
              }
);
            }
          }
;
          worker.start();
        }
      }
    }
  }
);
  btnRight.addActionListener(new java.awt.event.ActionListener(){
    @Override public void actionPerformed(    java.awt.event.ActionEvent evt){
      if (linkRight != null) {
        Thread worker=new Thread(){
          @Override public void run(){
            SwingUtilities.invokeLater(new Runnable(){
              @Override public void run(){
                setState("",false,"",false);
                setSpecial("",false);
                linkRight.doClick();
              }
            }
);
          }
        }
;
        worker.start();
      }
    }
  }
);
  btnSpecial.addActionListener(new java.awt.event.ActionListener(){
    @Override public void actionPerformed(    java.awt.event.ActionEvent evt){
      if (linkSpecial != null) {
{
          Thread worker=new Thread(){
            @Override public void run(){
              SwingUtilities.invokeLater(new Runnable(){
                @Override public void run(){
                  setState("",false,"",false);
                  setSpecial("",false);
                  linkSpecial.doClick();
                }
              }
);
            }
          }
;
          worker.start();
        }
      }
    }
  }
);
  btnUndo.addActionListener(new java.awt.event.ActionListener(){
    @Override public void actionPerformed(    java.awt.event.ActionEvent evt){
      if (linkUndo != null) {
{
          Thread worker=new Thread(){
            @Override public void run(){
              SwingUtilities.invokeLater(new Runnable(){
                @Override public void run(){
                  linkUndo.doClick();
                }
              }
);
            }
          }
;
          worker.start();
        }
      }
    }
  }
);
  textArea.addMouseListener(new MouseAdapter(){
    @Override public void mouseEntered(    MouseEvent me){
      ToolTipManager.sharedInstance().setDismissDelay(100000);
      UIManager.put("info",Color.DARK_GRAY);
    }
    @Override public void mouseExited(    MouseEvent me){
      ToolTipManager.sharedInstance().setDismissDelay(defaultDismissTimeout);
      UIManager.put("info",tooltipBackground);
    }
  }
);
}
