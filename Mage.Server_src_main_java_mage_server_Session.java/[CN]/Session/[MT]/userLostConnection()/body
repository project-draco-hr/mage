{
  User user=UserManager.getInstance().getUser(userId);
  if (user == null) {
    logger.error("User for session not found  sessionId: " + sessionId + "  userId: "+ userId);
    return;
  }
  if (user.getSessionId().isEmpty()) {
    logger.debug("User was already disconnected  sessionId: " + sessionId + "  userId: "+ userId);
    return;
  }
  if (logger.isInfoEnabled()) {
    StringBuilder sb=new StringBuilder(user.getName());
    sb.append(" lost connection - userId: ").append(userId);
    sb.append(" sessionId: ").append(sessionId);
    logger.info(sb);
  }
  UserManager.getInstance().disconnect(userId,DisconnectReason.LostConnection);
}
