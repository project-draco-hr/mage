{
  User user=UserManager.getInstance().getUser(userId);
  if (user == null) {
    logger.error("Session.userLostConnection  user for session not found  sessionId: " + sessionId + "  userId: "+ userId);
    return;
  }
  if (user.getSessionId().isEmpty()) {
    logger.debug("Session.userLostConnection  user was already disconnected  sessionId: " + sessionId + "  userId: "+ userId);
    return;
  }
  if (logger.isInfoEnabled()) {
    StringBuilder sb=new StringBuilder("user ");
    if (user == null) {
      sb.append("[user not found]");
    }
 else {
      sb.append(user.getName());
    }
    sb.append(" lost connection - userId: ").append(userId);
    sb.append(" sessionId: ").append(sessionId);
    logger.info(sb);
  }
  UserManager.getInstance().disconnect(userId,DisconnectReason.LostConnection);
}
