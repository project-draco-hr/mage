{
  if (text == null)   return;
  String fontFamily="times";
  final StringBuilder buffer=new StringBuilder(512);
  buffer.append("<html><body style='font-family:");
  buffer.append(fontFamily);
  buffer.append(";font-size:");
  buffer.append(fontSize);
  buffer.append("pt;margin:3px 3px 3px 3px;color: #FFFFFF'><b><center>");
  text=text.replaceAll("#([^#]+)#","<i>$1</i>");
  text=text.replace("\r\n","<div style='font-size:5pt'></div>");
  if (text.length() > 0) {
    buffer.append(ManaSymbols.replaceSymbolsWithHTML(text,ManaSymbols.Type.PAY));
  }
  buffer.append("</b></center></body></html>");
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      MageTextArea.super.setText(buffer.toString());
      setCaretPosition(0);
    }
  }
);
}
