{
  final UUID playerId=userPlayerMap.get(userId);
  if (game.getPlayer(playerId).isGameUnderControl()) {
    if (game.getPriorityPlayerId() == null || game.getPriorityPlayerId().equals(playerId)) {
      if (gameSessions.containsKey(playerId)) {
        command.execute(playerId);
      }
    }
 else {
      Player player=game.getPlayer(playerId);
      boolean found=false;
      for (      UUID controlled : player.getPlayersUnderYourControl()) {
        if (gameSessions.containsKey(controlled) && game.getPriorityPlayerId().equals(controlled)) {
          command.execute(controlled);
          found=true;
        }
      }
      if (!found) {
        logger.warn("WARNING! GameController.sendMessage - couldn't find session for action execution. Player: " + player.getName());
        logger.warn("    action player: " + player.getName() + ", id: "+ player.getId());
        Player priorityPlayer=game.getPlayer(game.getPriorityPlayerId());
        logger.warn("    priority player: " + priorityPlayer.getName() + ", id: "+ priorityPlayer.getId());
        logger.warn("    command: " + command.toString());
        logger.warn("    command-class: " + command.getClass().getName());
      }
    }
  }
 else {
  }
}
