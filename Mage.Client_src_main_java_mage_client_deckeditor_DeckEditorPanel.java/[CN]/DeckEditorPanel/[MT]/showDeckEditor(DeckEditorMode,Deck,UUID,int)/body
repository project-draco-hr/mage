{
  if (deck != null) {
    this.deck=deck;
  }
  this.tableId=tableId;
  this.mode=mode;
  this.btnAddLand.setVisible(false);
switch (mode) {
case LIMITED_BUILDING:
    this.btnAddLand.setVisible(true);
  this.txtTimeRemaining.setVisible(true);
case SIDEBOARDING:
this.btnSubmit.setVisible(true);
if (deck != null) {
this.cardSelector.loadSideboard(new ArrayList<>(deck.getSideboard()),this.bigCard);
}
this.btnExit.setVisible(false);
this.btnImport.setVisible(false);
if (!MageFrame.getSession().isTestMode()) {
this.btnLoad.setVisible(false);
}
this.deckArea.showSideboard(false);
countdown.stop();
this.timeout=time;
setTimeout(timeout);
if (timeout != 0) {
countdown.start();
if (updateDeckTask == null || updateDeckTask.isDone()) {
updateDeckTask=new UpdateDeckTask(MageFrame.getSession(),tableId,deck);
updateDeckTask.execute();
}
}
break;
case FREE_BUILDING:
this.btnSubmit.setVisible(false);
this.btnAddLand.setVisible(true);
this.cardSelector.loadCards(this.bigCard);
this.btnExit.setVisible(true);
this.btnImport.setVisible(true);
if (!MageFrame.getSession().isTestMode()) {
this.btnLoad.setVisible(true);
}
this.deckArea.showSideboard(true);
this.txtTimeRemaining.setVisible(false);
break;
}
init();
this.deckArea.setDeckEditorMode(mode);
}
