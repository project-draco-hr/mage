{
  Player controller=game.getPlayer(source.getControllerId());
  if (controller == null) {
    return false;
  }
  boolean result=false;
  for (  UUID targetId : targetPointer.getTargets(game,source)) {
    MageObject o=game.getObject(targetId);
    if (o != null) {
      if (o instanceof Permanent || o instanceof StackObject)       ;
{
        if (!colors.isEmpty()) {
          o.getColor().setWhite(false);
          o.getColor().setBlue(false);
          o.getColor().setBlack(false);
          o.getColor().setRed(false);
          o.getColor().setGreen(false);
          for (          ObjectColor color : colors) {
            if (color.isWhite()) {
              o.getColor().setWhite(true);
            }
 else             if (color.isBlue()) {
              o.getColor().setBlue(true);
            }
 else             if (color.isBlack()) {
              o.getColor().setBlack(true);
            }
 else             if (color.isRed()) {
              o.getColor().setRed(true);
            }
 else             if (color.isGreen()) {
              o.getColor().setGreen(true);
            }
          }
        }
      }
    }
  }
  if (!result) {
    if (this.getDuration().equals(Duration.Custom)) {
      this.discard();
    }
  }
  return result;
}
