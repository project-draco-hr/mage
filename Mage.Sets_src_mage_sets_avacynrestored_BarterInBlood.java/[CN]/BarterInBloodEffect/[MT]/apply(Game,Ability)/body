{
  Player controller=game.getPlayer(source.getControllerId());
  if (controller != null) {
    FilterCreaturePermanent filter=new FilterCreaturePermanent();
    for (    UUID playerId : controller.getInRange()) {
      Player player=game.getPlayer(playerId);
      if (player != null) {
        int amount=Math.min(2,game.getBattlefield().countAll(filter,player.getId(),game));
        Target target=new TargetControlledPermanent(amount,amount,filter,false);
        target.setRequired(true);
        if (amount > 0 && target.canChoose(player.getId(),game) && player.choose(Outcome.Sacrifice,target,source.getSourceId(),game)) {
          for (          UUID targetId : target.getTargets()) {
            Permanent permanent=game.getPermanent(targetId);
            if (permanent != null) {
              permanent.sacrifice(source.getSourceId(),game);
            }
          }
        }
      }
    }
    return true;
  }
  return false;
}
