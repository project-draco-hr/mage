{
  if (event.getType().equals(GameEvent.EventType.DAMAGE_PLAYER)) {
    UUID sourceControllerId=null;
    Permanent permanent=game.getPermanent(event.getSourceId());
    if (permanent != null) {
      sourceControllerId=permanent.getControllerId();
    }
 else {
      StackObject sourceStackObject=game.getStack().getStackObject(event.getSourceId());
      if (sourceStackObject != null) {
        sourceControllerId=sourceStackObject.getControllerId();
      }
    }
    if (event.getTargetId().equals(source.getControllerId()) && game.getOpponents(source.getControllerId()).contains(sourceControllerId)) {
      return super.applies(event,source,game);
    }
  }
  return false;
}
