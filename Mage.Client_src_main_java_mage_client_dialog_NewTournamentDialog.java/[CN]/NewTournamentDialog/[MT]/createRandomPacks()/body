{
  if (pnlRandomPacks.getComponentCount() == 0) {
    if (randomPackSelector == null) {
      randomPackSelector=new RandomPacksSelectorDialog();
    }
    txtRandomPacks=new JTextArea();
    txtRandomPacks.setEnabled(false);
    txtRandomPacks.setLineWrap(true);
    String randomPrefs=PreferencesDialog.getCachedValue(PreferencesDialog.KEY_NEW_TOURNAMENT_PACKS_RANDOM_DRAFT,"");
    if (randomPrefs.length() > 0) {
      txtRandomPacks.setText(randomPrefs);
      ArrayList<String> theList=new ArrayList<>();
      theList.addAll(Arrays.asList(randomPrefs.split(";")));
      randomPackSelector.setSelectedPacks(theList);
    }
 else {
      ExpansionInfo[] allExpansions=ExpansionRepository.instance.getWithBoostersSortedByReleaseDate();
      StringBuilder packList=new StringBuilder();
      for (      ExpansionInfo exp : allExpansions) {
        packList.append(exp.getCode());
        packList.append(";");
      }
      txtRandomPacks.setText(packList.toString());
    }
    pnlRandomPacks.add(txtRandomPacks);
    JButton btnSelectRandomPacks=new JButton();
    btnSelectRandomPacks.setText("Select packs to be included in the pool");
    btnSelectRandomPacks.setToolTipText(RandomPacksSelectorDialog.randomDraftDescription);
    btnSelectRandomPacks.addActionListener(new java.awt.event.ActionListener(){
      @Override public void actionPerformed(      java.awt.event.ActionEvent evt){
        showRandomPackSelectorDialog();
      }
    }
);
    pnlRandomPacks.add(btnSelectRandomPacks);
  }
  this.pack();
  this.revalidate();
  this.repaint();
}
