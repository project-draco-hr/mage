{
  Card cardOnTop=game.getCard(objectId);
  if (cardOnTop != null && affectedControllerId.equals(source.getControllerId()) && cardOnTop.getOwnerId().equals(source.getControllerId()) && !cardOnTop.getManaCost().isEmpty() && filter.match(cardOnTop,game)) {
    Player player=game.getPlayer(cardOnTop.getOwnerId());
    if (player != null && cardOnTop.equals(player.getLibrary().getFromTop(game))) {
      return true;
    }
  }
  return false;
}
