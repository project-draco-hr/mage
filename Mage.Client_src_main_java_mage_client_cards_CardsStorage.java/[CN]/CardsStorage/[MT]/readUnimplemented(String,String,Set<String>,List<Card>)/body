{
  try {
    CardImpl tmp=(CardImpl)allCards.get(0);
    InputStream is=CardsStorage.class.getResourceAsStream(filename);
    if (is == null) {
      log.error("Couldn't find: " + filename);
      return;
    }
    Scanner scanner=new Scanner(is);
    UnimplementedCardImpl cardToAdd=null;
    boolean addCard=false;
    while (scanner.hasNextLine()) {
      String line=scanner.nextLine();
      String[] s=line.split("\\|");
      if (s.length == 2) {
        String name=s[1].trim();
        if (!names.contains(set + name)) {
          UnimplementedCardImpl card=new UnimplementedCardImpl(tmp);
          Integer cid;
          boolean secondFace=false;
          if (s[0].endsWith("a")) {
            cid=Integer.parseInt(s[0].replace("a",""));
          }
 else           if (s[0].endsWith("b")) {
            cid=Integer.parseInt(s[0].replace("b",""));
            secondFace=true;
            if (cardToAdd != null) {
              addCard=true;
            }
          }
 else {
            cid=Integer.parseInt(s[0]);
            addCard=true;
          }
          card.setName(name);
          card.setExpansionSetCode(set);
          card.setCardNumber(cid);
          card.setRarity(Constants.Rarity.NA);
          card.getCardType().clear();
          if (secondFace) {
            if (cardToAdd != null) {
              cardToAdd.setCanTransform(true);
              cardToAdd.setSecondSideCard(card);
              card.setCanTransform(true);
              card.setNightCard(true);
            }
          }
 else {
            cardToAdd=card;
          }
          if (addCard) {
            cards.add(cardToAdd);
            cardToAdd=null;
            addCard=false;
          }
        }
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
