{
  try {
    match.startGame();
    table.initGame();
    GameManager.getInstance().createGameSession(match.getGame(),userPlayerMap,table.getId(),choosingPlayerId);
    for (    Entry<UUID,UUID> entry : userPlayerMap.entrySet()) {
      User user=UserManager.getInstance().getUser(entry.getKey());
      if (user != null) {
        user.gameStarted(match.getGame().getId(),entry.getValue());
      }
 else {
        TableManager.getInstance().removeTable(table.getId());
        GameManager.getInstance().removeGame(match.getGame().getId());
        logger.warn("Unable to find player " + entry.getKey());
        break;
      }
    }
  }
 catch (  Exception ex) {
    logger.fatal("Error starting game",ex);
    TableManager.getInstance().removeTable(table.getId());
    GameManager.getInstance().removeGame(match.getGame().getId());
  }
}
