{
  UUID choosingPlayerId=match.getChooser();
  match.endGame();
  table.endGame();
  if (ConfigSettings.getInstance().isSaveGameActivated() && !match.getGame().isSimulation()) {
    if (GameManager.getInstance().saveGame(match.getGame().getId())) {
      match.setReplayAvailable(true);
    }
  }
  GameManager.getInstance().removeGame(match.getGame().getId());
  try {
    if (!match.isMatchOver()) {
      table.sideboard();
      setupTimeout(Match.SIDEBOARD_TIME);
      match.sideboard();
      cancelTimeout();
      if (!match.isMatchOver()) {
        startGame(choosingPlayerId);
      }
 else {
        this.matchEnd();
        if (!ConfigSettings.getInstance().isSaveGameActivated() || match.getGame().isSimulation()) {
          match.getGames().clear();
        }
        table.endGame();
      }
    }
 else {
      this.matchEnd();
      if (!ConfigSettings.getInstance().isSaveGameActivated() || match.getGame().isSimulation()) {
        match.getGames().clear();
      }
      table.endGame();
    }
  }
 catch (  GameException ex) {
    logger.fatal(null,ex);
  }
}
