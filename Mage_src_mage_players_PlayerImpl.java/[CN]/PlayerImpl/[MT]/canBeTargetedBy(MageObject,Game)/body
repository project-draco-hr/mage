{
  if (this.hasLost() || this.hasLeft()) {
    return false;
  }
  if (source != null) {
    if (abilities.containsKey(ShroudAbility.getInstance().getId())) {
      return false;
    }
    if (abilities.containsKey(HexproofAbility.getInstance().getId())) {
      UUID controllerId=null;
      if (source instanceof Permanent) {
        controllerId=((Permanent)source).getControllerId();
      }
 else       if (source instanceof StackObject) {
        controllerId=((StackObject)source).getControllerId();
      }
      if (controllerId != null && game.getOpponents(this.playerId).contains(controllerId) && !game.getContinuousEffects().asThough(this.getId(),AsThoughEffectType.HEXPROOF,game)) {
        return false;
      }
    }
    if (hasProtectionFrom(source,game)) {
      return false;
    }
  }
  return true;
}
