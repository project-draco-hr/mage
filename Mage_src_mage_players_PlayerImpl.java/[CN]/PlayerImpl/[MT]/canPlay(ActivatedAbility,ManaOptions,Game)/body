{
  if (!(ability instanceof ManaAbility)) {
    ActivatedAbility copy=ability.copy();
    copy.setCheckPlayableMode();
    if (!copy.canActivate(playerId,game)) {
      return false;
    }
    game.getContinuousEffects().costModification(copy,game);
    Card card=game.getCard(ability.getSourceId());
    if (card != null) {
      for (      Ability ability0 : card.getAbilities()) {
        if (ability0 instanceof AdjustingSourceCosts) {
          if (!(ability0 instanceof ConvokeAbility)) {
            ((AdjustingSourceCosts)ability0).adjustCosts(copy,game);
          }
        }
      }
    }
    ManaOptions abilityOptions=copy.getManaCostsToPay().getOptions();
    if (abilityOptions.size() == 0) {
      return true;
    }
 else {
      for (      Mana mana : abilityOptions) {
        for (        Mana avail : available) {
          if (mana.enough(avail)) {
            return true;
          }
        }
      }
    }
    MageObject object=game.getObject(ability.getSourceId());
    for (    Ability objectAbility : object.getAbilities()) {
      if (objectAbility instanceof AlternativeCostSourceAbility) {
        if (objectAbility.getCosts().canPay(ability,ability.getSourceId(),playerId,game)) {
          return true;
        }
      }
    }
    for (    AlternativeCost cost : ability.getAlternativeCosts()) {
      if (cost.isAvailable(game,ability) && cost.canPay(ability,ability.getSourceId(),playerId,game)) {
        return true;
      }
    }
  }
  return false;
}
