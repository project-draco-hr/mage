{
  boolean resuming=true;
switch (currentStep.getStepPart()) {
case PRE:
    if (wasPaused) {
      currentStep.resumeBeginStep(game,activePlayerId);
      resuming=false;
    }
 else {
      prePriority(game,activePlayerId);
    }
case PRIORITY:
  if (!game.isPaused() && !game.isGameOver())   currentStep.priority(game,activePlayerId,resuming);
case POST:
if (!game.isPaused() && !game.isGameOver()) postPriority(game,activePlayerId);
}
}
