{
  Player targetPlayer=game.getPlayer(getTargetPointer().getFirst(game,source));
  if (targetPlayer != null) {
    List<Card> cards=targetPlayer.getLibrary().getTopCards(game,amount);
    for (    Card card : cards) {
      card.setFaceDown(true);
      targetPlayer.putOntoBattlefieldWithInfo(card,game,Zone.LIBRARY,source.getSourceId());
      Permanent permanent=game.getPermanent(card.getId());
      if (permanent != null) {
        permanent.setManifested(true);
        ManaCosts manaCosts=null;
        if (card.getCardType().contains(CardType.CREATURE)) {
          manaCosts=card.getSpellAbility().getManaCosts();
          if (manaCosts == null) {
            manaCosts=new ManaCostsImpl("{0}");
          }
        }
        ContinuousEffect effect=new BecomesFaceDownCreatureEffect(manaCosts,true,Duration.Custom,FaceDownType.MANIFESTED);
        effect.setTargetPointer(new FixedTarget(card.getId()));
        game.addEffect(effect,source);
      }
    }
    return true;
  }
  return false;
}
