{
  for (  TriggeredAbility ability : this.values()) {
    if (ability.isInUseableZone(game,null,true)) {
      MageObject object=null;
      if (!ability.getZone().equals(Zone.COMMAND) && !game.getState().getZone(ability.getSourceId()).equals(ability.getZone())) {
        object=game.getShortLivingLKI(ability.getSourceId(),ability.getZone());
      }
      if (object == null) {
        object=getMageObject(event,game,ability);
      }
      if (object != null) {
        if (checkAbilityStillExists(ability,event,object)) {
          if (object instanceof Permanent) {
            ability.setControllerId(((Permanent)object).getControllerId());
          }
          if (ability.checkTrigger(event,game)) {
            UUID controllerId=ability.getControllerId();
            ability.trigger(game,controllerId);
          }
        }
      }
    }
  }
}
