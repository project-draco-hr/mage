{
  FilterCard filter=buildFilter();
  try {
    List<Card> filteredCards=new ArrayList<Card>();
    setCursor(new Cursor(Cursor.WAIT_CURSOR));
    if (limited) {
      for (      Card card : cards) {
        if (filter.match(card,null)) {
          filteredCards.add(card);
        }
      }
    }
 else {
      List<CardInfo> foundCards=CardRepository.instance.findCards(buildCriteria());
      for (      CardInfo cardInfo : foundCards) {
        Card card=cardInfo.getCard();
        if (filter.match(card,null)) {
          filteredCards.add(card);
        }
      }
    }
    this.currentView.loadCards(new CardsView(filteredCards),(SortBy)cbSortBy.getSelectedItem(),chkPiles.isSelected(),bigCard,null);
    this.cardCount.setText(String.valueOf(filteredCards.size()));
  }
  finally {
    setCursor(new Cursor(Cursor.DEFAULT_CURSOR));
  }
}
