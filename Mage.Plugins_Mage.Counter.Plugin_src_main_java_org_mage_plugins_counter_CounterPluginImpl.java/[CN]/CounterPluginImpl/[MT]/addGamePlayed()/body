{
  if (!isLoaded)   return;
  File data=new File(PLUGIN_DATA_FOLDER_PATH + File.separator + DATA_STORAGE_FILE);
  ObjectInputStream ois=null;
  ObjectOutputStream oos=null;
  if (data.exists()) {
    int prev=0;
    try {
      ois=new ObjectInputStream(new FileInputStream(data));
      Object o=ois.readObject();
      CounterBean c=null;
      if (o instanceof CounterBean) {
        c=(CounterBean)o;
        prev=c.getGamesPlayed();
      }
    }
 catch (    EOFException e) {
    }
catch (    IOException e) {
      throw new PluginException(e);
    }
catch (    ClassNotFoundException e) {
      throw new PluginException(e);
    }
 finally {
      if (ois != null)       try {
        ois.close();
      }
 catch (      Exception e) {
      }
    }
    try {
synchronized (this) {
        oos=new ObjectOutputStream(new FileOutputStream(data));
        CounterBean c=new CounterBean();
        c.setGamesPlayed(prev + 1);
        oos.writeObject(c);
        oos.close();
      }
    }
 catch (    IOException e) {
      throw new PluginException(e);
    }
 finally {
      if (oos != null)       try {
        oos.close();
      }
 catch (      Exception e) {
      }
    }
  }
 else {
    log.error("Counter plugin: data file doesn't exist, please restart plugin.");
  }
}
