{
  StackObject spell=null;
  for (  StackObject objet : game.getStack()) {
    if (objet instanceof Spell && objet.getSourceId().equals(source.getSourceId())) {
      spell=objet;
    }
  }
  if (spell != null) {
    DiscardTargetCost cost=new DiscardTargetCost(new TargetCardInHand(3,3,new FilterCard()));
    for (    UUID uuid : game.getPlayerList()) {
      Player player=game.getPlayer(uuid);
      cost.clearPaid();
      if (cost.canPay(source,source.getSourceId(),player.getId(),game) && player.chooseUse(Outcome.Detriment,"Discard three cards to counter " + spell.getName() + "?",source,game)) {
        if (cost.pay(source,game,source.getSourceId(),uuid,false)) {
          game.informPlayers(player.getLogName() + " discards 3 cards to counter " + spell.getName()+ ".");
          game.getStack().counter(spell.getId(),source.getSourceId(),game);
          return true;
        }
      }
    }
    return true;
  }
  return false;
}
