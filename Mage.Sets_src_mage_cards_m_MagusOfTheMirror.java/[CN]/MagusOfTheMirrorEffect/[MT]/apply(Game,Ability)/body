{
  Player controller=game.getPlayer(source.getControllerId());
  Player opponent=game.getPlayer(source.getFirstTarget());
  if (controller != null && opponent != null) {
    int lifeController=controller.getLife();
    int lifeOpponent=opponent.getLife();
    if (lifeController == lifeOpponent)     return false;
    if (!controller.isLifeTotalCanChange() || !opponent.isLifeTotalCanChange())     return false;
    if (lifeController < lifeOpponent && (!controller.isCanGainLife() || !opponent.isCanLoseLife()))     return false;
    if (lifeController > lifeOpponent && (!controller.isCanLoseLife() || !opponent.isCanGainLife()))     return false;
    controller.setLife(lifeOpponent,game);
    opponent.setLife(lifeController,game);
    return true;
  }
  return false;
}
