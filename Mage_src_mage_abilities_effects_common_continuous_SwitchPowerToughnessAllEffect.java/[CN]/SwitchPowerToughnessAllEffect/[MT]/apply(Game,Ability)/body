{
  Player controller=game.getPlayer(source.getControllerId());
  if (controller != null) {
    if (this.affectedObjectsSet) {
      for (Iterator<MageObjectReference> it=affectedObjectList.iterator(); it.hasNext(); ) {
        Permanent creature=it.next().getPermanent(game);
        if (creature != null) {
          int power=creature.getPower().getValue();
          creature.getPower().setValue(creature.getToughness().getValue());
          creature.getToughness().setValue(power);
        }
 else {
          it.remove();
        }
      }
    }
 else {
      for (      Permanent creature : game.getState().getBattlefield().getActivePermanents(filter,source.getControllerId(),source.getSourceId(),game)) {
        int power=creature.getPower().getValue();
        creature.getPower().setValue(creature.getToughness().getValue());
        creature.getToughness().setValue(power);
      }
    }
    return true;
  }
  return false;
}
