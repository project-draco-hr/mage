{
  int total=count();
  Iterator<ManaPoolItem> it=manaItems.iterator();
  while (it.hasNext()) {
    ManaPoolItem item=it.next();
    for (    ManaType manaType : manaTypeArray) {
      if (item.get(manaType) > 0) {
        total+=item.get(manaType);
        item.remove(manaType);
      }
    }
    if (item.count() == 0) {
      it.remove();
    }
  }
  return total;
}
