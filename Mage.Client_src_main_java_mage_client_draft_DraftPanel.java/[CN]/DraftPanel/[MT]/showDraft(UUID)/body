{
  this.draftId=draftId;
  session=MageFrame.getSession();
  MageFrame.addDraft(draftId,this);
  if (!session.joinDraft(draftId)) {
    hideDraft();
  }
  if (isLogging()) {
    SimpleDateFormat sdf=new SimpleDateFormat("yyyyMMdd_HHmmss");
    logFilename="Draft_" + sdf.format(new Date()) + "_"+ draftId+ ".txt";
    try {
      Files.write(pathToDraftLog(),"".getBytes(),StandardOpenOption.CREATE,StandardOpenOption.TRUNCATE_EXISTING);
    }
 catch (    IOException ex) {
      Logger.getLogger(DraftPanel.class.getName()).log(Level.SEVERE,null,ex);
    }
  }
 else {
    logFilename=null;
  }
}
