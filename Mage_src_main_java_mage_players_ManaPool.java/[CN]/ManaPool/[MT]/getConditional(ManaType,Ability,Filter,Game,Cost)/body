{
  if (ability == null || getConditionalMana().isEmpty()) {
    return 0;
  }
  for (  ManaPoolItem mana : manaItems) {
    if (mana.isConditional() && mana.getConditionalMana().get(manaType) > 0 && mana.getConditionalMana().apply(ability,game,mana.getSourceId(),costToPay)) {
      if (filter == null || filter.match(mana.getSourceObject(),game)) {
        return mana.getConditionalMana().get(manaType);
      }
    }
  }
  return 0;
}
