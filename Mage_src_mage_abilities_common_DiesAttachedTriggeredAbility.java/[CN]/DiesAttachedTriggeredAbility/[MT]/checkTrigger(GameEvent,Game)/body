{
  if (((ZoneChangeEvent)event).isDiesEvent()) {
    ZoneChangeEvent zEvent=(ZoneChangeEvent)event;
    boolean triggered=false;
    if (zEvent.getTarget().getAttachments().contains(this.getSourceId())) {
      triggered=true;
    }
 else {
      Permanent attachment=game.getPermanentOrLKIBattlefield(getSourceId());
      if (attachment != null && zEvent.getTargetId() != null && attachment.getAttachedTo() != null && zEvent.getTargetId().equals(attachment.getAttachedTo()) && attachment.getAttachedToZoneChangeCounter() == zEvent.getTarget().getZoneChangeCounter(game) - 1) {
        triggered=true;
      }
    }
    if (triggered) {
      for (      Effect effect : getEffects()) {
        effect.setValue("attachedTo",zEvent.getTarget());
      }
      return true;
    }
  }
  return false;
}
