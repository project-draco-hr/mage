{
  ArrayList<TableView> tableList=new ArrayList<TableView>();
  ArrayList<MatchView> matchList=new ArrayList<MatchView>();
  List<Table> t=new ArrayList<Table>(tables.values());
  Collections.sort(t,new TimestampSorter());
  Collections.reverse(t);
  for (  Table table : t) {
    if (table.getState() != TableState.FINISHED) {
      tableList.add(new TableView(table));
    }
 else     if (matchList.size() < 50) {
      if (table.isTournament()) {
        matchList.add(new MatchView(table));
      }
 else {
        matchList.add(new MatchView(table.getMatch()));
      }
    }
 else {
      if (table.isTournament()) {
      }
      this.removeTable(table.getId());
    }
  }
  tableView=tableList;
  matchView=matchList;
  List<String> players=new ArrayList<String>();
  for (  User user : UserManager.getInstance().getUsers()) {
    if (user.isConnected()) {
      players.add(user.getName());
    }
 else {
      players.add(new StringBuilder(user.getName()).append(" (discon.)").toString());
    }
  }
  playersView=players;
}
