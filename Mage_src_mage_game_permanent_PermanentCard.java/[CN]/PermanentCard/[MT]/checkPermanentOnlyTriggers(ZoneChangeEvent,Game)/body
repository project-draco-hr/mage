{
  List<UUID> triggered=new ArrayList<UUID>();
  for (  TriggeredAbility ability : abilities.getTriggeredAbilities(event.getFromZone())) {
    if (!card.getAbilities().containsKey(ability.getId())) {
      if (ability.checkTrigger(event,game)) {
        triggered.add(ability.getId());
        ability.trigger(game,controllerId);
      }
    }
 else     if (ability instanceof ZoneChangeTriggeredAbility && event.getFromZone() == Zone.BATTLEFIELD) {
      ZoneChangeTriggeredAbility zcAbility=(ZoneChangeTriggeredAbility)ability;
      if (zcAbility.getToZone() == null) {
        if (ability.checkTrigger(event,game)) {
          triggered.add(ability.getId());
          ability.trigger(game,controllerId);
        }
      }
    }
  }
  for (  TriggeredAbility ability : abilities.getTriggeredAbilities(event.getToZone())) {
    if (!card.getAbilities().containsKey(ability.getId())) {
      if (!triggered.contains(ability.getId()) && ability.checkTrigger(event,game)) {
        ability.trigger(game,controllerId);
      }
    }
  }
}
