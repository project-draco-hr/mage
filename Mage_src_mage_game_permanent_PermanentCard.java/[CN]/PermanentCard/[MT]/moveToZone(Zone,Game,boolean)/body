{
  if (!game.replaceEvent(new ZoneChangeEvent(this.getId(),this.getControllerId(),Zone.BATTLEFIELD,zone))) {
    if (game.getPlayer(controllerId).removeFromBattlefield(this,game)) {
switch (zone) {
case GRAVEYARD:
        game.getPlayer(ownerId).putInGraveyard(game.getCard(objectId),game,!flag);
      break;
case HAND:
    game.getPlayer(ownerId).getHand().add(game.getCard(objectId));
  break;
case EXILED:
game.getExile().getPermanentExile().add(game.getCard(objectId));
break;
case LIBRARY:
if (flag) game.getPlayer(ownerId).getLibrary().putOnTop(game.getCard(objectId),game);
 else game.getPlayer(ownerId).getLibrary().putOnBottom(game.getCard(objectId),game);
}
game.fireEvent(new ZoneChangeEvent(this.getId(),this.getControllerId(),Zone.BATTLEFIELD,zone));
return true;
}
}
return false;
}
