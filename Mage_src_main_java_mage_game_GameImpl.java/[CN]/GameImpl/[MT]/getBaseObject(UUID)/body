{
  if (objectId == null) {
    return null;
  }
  MageObject object;
  if (state.getBattlefield().containsPermanent(objectId)) {
    object=state.getBattlefield().getPermanent(objectId);
    return object;
  }
  object=getLastKnownInformation(objectId,Zone.BATTLEFIELD);
  if (object != null) {
    return object;
  }
  for (  CommandObject commandObject : state.getCommand()) {
    if (commandObject instanceof Commander && commandObject.getId().equals(objectId)) {
      return commandObject;
    }
  }
  object=getCard(objectId);
  if (object == null) {
    for (    CommandObject commandObject : state.getCommand()) {
      if (commandObject.getId().equals(objectId)) {
        return commandObject;
      }
    }
  }
  return object;
}
