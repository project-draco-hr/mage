{
  if (sourceId.equals(source.getSourceId())) {
    Card card=game.getCard(source.getSourceId());
    if (card != null && card.getOwnerId().equals(source.getControllerId()) && game.getState().getZone(source.getSourceId()) == Constants.Zone.EXILED) {
      Object object=game.getState().getValue("madness_" + card.getId());
      if (object != null && object.equals(true)) {
        Object alfreadyConfirmed=game.getState().getValue("madness_ok_" + card.getId());
        if (alfreadyConfirmed != null) {
          return true;
        }
        Player player=game.getPlayer(card.getOwnerId());
        String message="Cast " + card.getName() + " by its madness cost?";
        if (player != null && player.chooseUse(Constants.Outcome.Benefit,message,game)) {
          Cost costToPay=cost.copy();
          card.getSpellAbility().getManaCostsToPay().clear();
          card.getSpellAbility().getManaCostsToPay().add((ManaCost)costToPay);
          game.getState().setValue("madness_ok_" + card.getId(),true);
          return true;
        }
      }
    }
  }
  return false;
}
