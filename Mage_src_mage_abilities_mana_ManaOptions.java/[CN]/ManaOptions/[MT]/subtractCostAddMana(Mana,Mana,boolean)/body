{
  if (isEmpty()) {
    this.add(new Mana());
  }
  boolean repeatable=false;
  if (addMana.getAny() == 1 && addMana.count() == 1 && onlyManaCosts) {
    repeatable=true;
  }
  for (  Mana mana : this) {
    while (mana.includesMana(cost)) {
      mana.subtract(cost);
      mana.add(addMana);
      if (!repeatable) {
        break;
      }
    }
  }
}
