{
  boolean applied=false;
  Player you=game.getPlayer(source.getControllerId());
  Card sourceCard=game.getCard(source.getSourceId());
  while (you != null && sourceCard != null && you.getLibrary().size() > 0 && you.isInGame()) {
    Card card=you.getLibrary().removeFromTop(game);
    if (card != null) {
      you.moveCardToExileWithInfo(card,null,null,source.getSourceId(),game,Zone.LIBRARY,true);
      if (!card.getCardType().contains(CardType.LAND)) {
        int damage=card.getManaCost().convertedManaCost();
        if (damage > 0) {
          Permanent creature=game.getPermanent(this.getTargetPointer().getFirst(game,source));
          if (creature != null) {
            creature.damage(damage,source.getSourceId(),game,false,true);
            game.informPlayers(new StringBuilder(sourceCard.getName()).append(" deals ").append(damage).append(" damage to ").append(creature.getName()).toString());
            applied=true;
            break;
          }
          Player player=game.getPlayer(this.getTargetPointer().getFirst(game,source));
          if (player != null) {
            player.damage(card.getManaCost().convertedManaCost(),source.getSourceId(),game,false,true);
            game.informPlayers(new StringBuilder(sourceCard.getName()).append(" deals ").append(damage).append(" damage to ").append(player.getName()).toString());
            applied=true;
            break;
          }
        }
      }
    }
  }
  return applied;
}
