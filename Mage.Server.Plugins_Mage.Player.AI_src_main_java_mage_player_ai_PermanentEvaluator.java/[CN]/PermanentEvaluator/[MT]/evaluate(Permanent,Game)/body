{
  if (!values.containsKey(permanent.getId())) {
    int value=0;
    if (permanent.getCardType().contains(CardType.CREATURE)) {
      value+=combat.evaluate(permanent,game);
    }
    value+=permanent.getAbilities().getActivatedManaAbilities(Zone.BATTLEFIELD).size();
    value+=permanent.getAbilities().getActivatedAbilities(Zone.BATTLEFIELD).size();
    values.put(permanent.getId(),value);
  }
  return values.get(permanent.getId());
}
