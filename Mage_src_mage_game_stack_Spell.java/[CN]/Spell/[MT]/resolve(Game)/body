{
  boolean result=false;
  if (card.getCardType().contains(CardType.INSTANT) || card.getCardType().contains(CardType.SORCERY)) {
    if (ability.getTargets().stillLegal(ability,game)) {
      boolean replaced=resolveKicker(game);
      if (!replaced)       result=ability.resolve(game);
 else       result=true;
      if (ability.getEffects().contains(ExileSpellEffect.getInstance()))       game.getExile().getPermanentExile().add(card);
 else       if (ability.getEffects().contains(ShuffleSpellEffect.getInstance())) {
        card.moveToZone(Zone.LIBRARY,ability.getId(),game,false);
        Player player=game.getPlayer(controllerId);
        if (player != null)         player.shuffleLibrary(game);
      }
 else       card.moveToZone(Zone.GRAVEYARD,ability.getId(),game,false);
      return result;
    }
    counter(null,game);
    return false;
  }
 else   if (card.getCardType().contains(CardType.ENCHANTMENT) && card.getSubtype().contains("Aura")) {
    if (ability.getTargets().stillLegal(ability,game)) {
      if (card.putOntoBattlefield(game,Zone.HAND,ability.getId(),controllerId)) {
        return ability.resolve(game);
      }
      return false;
    }
    counter(null,game);
    return false;
  }
 else {
    resolveKicker(game);
    result=card.putOntoBattlefield(game,Zone.HAND,ability.getId(),controllerId);
    return result;
  }
}
