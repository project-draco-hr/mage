{
  int remainingDamage=damage;
  while (remainingDamage > 0) {
    Target target=new TargetCreatureOrPlayer();
    chooseTarget(Outcome.Damage,target,null,game);
    if (targets.size() == 0 || targets.contains(target.getFirstTarget())) {
      int damageAmount=getAmount(0,remainingDamage,"Select amount",game);
      Permanent permanent=game.getPermanent(target.getFirstTarget());
      if (permanent != null) {
        permanent.damage(damageAmount,sourceId,game,true);
      }
 else {
        Player player=game.getPlayer(target.getFirstTarget());
        if (player != null) {
          player.damage(damageAmount,sourceId,game,false,true);
        }
      }
    }
  }
}
