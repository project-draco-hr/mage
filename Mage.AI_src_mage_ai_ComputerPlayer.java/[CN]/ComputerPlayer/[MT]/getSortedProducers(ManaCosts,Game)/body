{
  List<Permanent> unsorted=this.getAvailableManaProducers(game);
  Map<Permanent,Integer> scored=new HashMap<Permanent,Integer>();
  for (  Permanent permanent : unsorted) {
    int score=0;
    for (    ManaCost cost : unpaid) {
      for (      ManaAbility ability : permanent.getAbilities().getManaAbilities(Zone.BATTLEFIELD)) {
        if (cost.testPay(ability.getNetMana())) {
          score++;
          break;
        }
      }
    }
    scored.put(permanent,score);
  }
  return sortByValue(scored);
}
