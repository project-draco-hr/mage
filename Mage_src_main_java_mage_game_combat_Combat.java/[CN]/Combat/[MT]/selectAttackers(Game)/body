{
  if (!game.replaceEvent(GameEvent.getEvent(GameEvent.EventType.DECLARING_ATTACKERS,attackerId,attackerId))) {
    Player player=game.getPlayer(attackerId);
    game.getCombat().checkAttackRequirements(player,game);
    boolean firstTime=true;
    do {
      if (!firstTime || !game.getPlayer(game.getActivePlayerId()).getAvailableAttackers(game).isEmpty()) {
        player.selectAttackers(game,attackerId);
      }
      firstTime=false;
      if (game.isPaused() || game.gameOver(null) || game.executingRollback()) {
        return;
      }
    }
 while (!game.getCombat().checkAttackRestrictions(player,game));
    game.getCombat().resumeSelectAttackers(game);
  }
}
