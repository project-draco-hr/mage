{
  if (!super.match(object,game)) {
    return notFilter;
  }
  if (useColor) {
    if (scopeColor == ComparisonScope.All) {
      if (object.getColor().equals(color) == notColor) {
        return notFilter;
      }
    }
 else     if (object.getColor().contains(color) == notColor) {
      if (useColorless && colorless) {
        if (object.getColor().isColorless() != colorless) {
          return notFilter;
        }
      }
 else {
        return notFilter;
      }
    }
  }
 else   if (useColorless && object.getColor().isColorless() != colorless) {
    return notFilter;
  }
  if (cardType.size() > 0) {
    if (!compCardType.compare(cardType,object.getCardType(),scopeCardType,false))     return notFilter;
  }
  if (notCardType.size() > 0) {
    if (compCardType.compare(notCardType,object.getCardType(),scopeNotCardType,false))     return notFilter;
  }
  if (abilities.size() > 0) {
    List<Ability> test=new ArrayList<Ability>(abilities);
    for (    Ability ability : object.getAbilities()) {
      for (      Ability abilityTest : test) {
        if (ability == abilityTest || ability.getClass().equals(abilityTest.getClass())) {
          test.remove(abilityTest);
          break;
        }
      }
    }
    if (test.isEmpty() == notAbilities)     return notFilter;
  }
  return !notFilter;
}
