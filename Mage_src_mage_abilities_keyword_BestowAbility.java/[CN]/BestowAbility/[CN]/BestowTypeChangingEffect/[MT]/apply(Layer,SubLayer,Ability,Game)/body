{
  Permanent permanent=game.getPermanent(source.getSourceId());
  if (permanent != null) {
switch (layer) {
case TypeChangingEffects_4:
      if (sublayer == SubLayer.NA) {
        if (permanent.getAttachedTo() == null) {
          if (wasAttached && permanent.getSubtype().contains("Aura")) {
            permanent.getSubtype().remove("Aura");
            wasAttached=false;
          }
        }
 else {
          permanent.getCardType().remove(CardType.CREATURE);
          permanent.getSubtype().retainAll(CardRepository.instance.getLandTypes());
          if (!permanent.getSubtype().contains("Aura")) {
            permanent.getSubtype().add("Aura");
          }
          wasAttached=true;
        }
      }
    break;
}
return true;
}
return false;
}
