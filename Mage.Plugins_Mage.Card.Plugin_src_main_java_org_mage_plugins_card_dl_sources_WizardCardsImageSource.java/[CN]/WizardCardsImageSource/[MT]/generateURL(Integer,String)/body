{
  if (collectorId == null || cardSet == null) {
    throw new Exception("Wrong parameters for image: collector id: " + collectorId + ",card set: "+ cardSet);
  }
  if (setsAliases.get(cardSet) != null) {
    List<String> setLinks=(List<String>)sets.get(cardSet);
    if (setLinks == null) {
      setLinks=getSetLinks(cardSet);
      sets.put(cardSet,setLinks);
    }
    String link;
    if (setLinks.size() >= collectorId) {
      link=setLinks.get(collectorId - 1);
    }
 else {
      link=setLinks.get(collectorId - 21);
      link=link.replace(Integer.toString(collectorId - 20),(Integer.toString(collectorId - 20) + "a"));
    }
    if (!link.startsWith("http://")) {
      link="http://www.wizards.com" + link;
    }
    return link;
  }
  return null;
}
