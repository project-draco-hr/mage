{
  Player controller=game.getPlayer(source.getControllerId());
  MageObject sourceObject=game.getObject(source.getSourceId());
  String cardName=(String)game.getState().getValue(source.getSourceId().toString() + NameACardEffect.INFO_KEY);
  if (sourceObject != null && controller != null && cardName != null && !cardName.isEmpty()) {
    Player targetPlayer=game.getPlayer(source.getFirstTarget());
    if (targetPlayer != null) {
      targetPlayer.revealCards("hand of " + targetPlayer.getName(),targetPlayer.getHand(),game);
      int cardsFound=0;
      for (      Card card : targetPlayer.getHand().getCards(game)) {
        if (card.getName().equals(cardName)) {
          cardsFound++;
        }
      }
      if (cardsFound > 0) {
        targetPlayer.damage(3 * cardsFound,source.getSourceId(),game,false,true);
      }
      for (      Card card : targetPlayer.getGraveyard().getCards(game)) {
        if (card.getName().equals(cardName)) {
          controller.moveCardToExileWithInfo(card,null,"",source.getSourceId(),game,Zone.GRAVEYARD);
        }
      }
      for (      Card card : targetPlayer.getHand().getCards(game)) {
        if (card.getName().equals(cardName)) {
          controller.moveCardToExileWithInfo(card,null,"",source.getSourceId(),game,Zone.HAND);
        }
      }
      for (      Card card : targetPlayer.getLibrary().getCards(game)) {
        if (card.getName().equals(cardName)) {
          controller.moveCardToExileWithInfo(card,null,"",source.getSourceId(),game,Zone.LIBRARY);
        }
      }
      targetPlayer.shuffleLibrary(game);
      return true;
    }
  }
  return false;
}
