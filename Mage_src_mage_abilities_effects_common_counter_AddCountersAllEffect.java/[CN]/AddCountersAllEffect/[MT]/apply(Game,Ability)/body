{
  boolean applied=false;
  if (counter != null) {
    UUID controllerId=source.getControllerId();
    List<Permanent> permanents=game.getBattlefield().getAllActivePermanents();
    for (    Permanent permanent : permanents) {
      if (filter.match(permanent,source.getSourceId(),controllerId,game)) {
        permanent.addCounters(counter.copy());
        applied=true;
      }
    }
  }
  return applied;
}
