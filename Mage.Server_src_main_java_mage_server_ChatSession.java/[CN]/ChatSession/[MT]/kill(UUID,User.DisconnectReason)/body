{
  if (userId != null && clients.containsKey(userId)) {
    String userName=clients.get(userId);
    String message;
    clients.remove(userId);
switch (reason) {
case Disconnected:
      message=" has quit MAGE";
    break;
case SessionExpired:
  message=" session expired";
break;
default :
message=" has left chat";
}
broadcast(userName,message,MessageColor.BLUE);
logger.info(userName + message + " "+ chatId);
}
}
