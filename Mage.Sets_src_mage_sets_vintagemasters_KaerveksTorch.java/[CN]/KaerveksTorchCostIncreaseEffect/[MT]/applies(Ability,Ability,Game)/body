{
  if (abilityToModify instanceof SpellAbility || abilityToModify instanceof FlashbackAbility) {
    for (    Mode mode : abilityToModify.getModes().getSelectedModes()) {
      for (      Target target : mode.getTargets()) {
        for (        UUID targetId : target.getTargets()) {
          if (targetId.equals(source.getSourceObject(game).getId())) {
            return true;
          }
        }
      }
    }
  }
  return false;
}
