{
  deck=new Deck();
  final Collection<MageScoredCard> remainingCards=new ArrayList<MageScoredCard>();
  Set<String> names=new HashSet<String>();
  for (  final Card card : spellCardPool) {
    if (names.contains(card.getName())) {
      continue;
    }
    remainingCards.add(new MageScoredCard(card,allowedColors,callback));
    names.add(card.getName());
  }
  int min=0;
  for (int index=0; index < DECK_COUNT.length; index++) {
    final int max=DECK_COST[index];
    addCardsToDeck(remainingCards,min,max,DECK_COUNT[index]);
    min=max + 1;
  }
  addCardsToDeck(remainingCards,0,4,DECK_SPELLS - deck.getCards().size());
  addCardsToDeck(remainingCards,5,10,DECK_SPELLS - deck.getCards().size());
  addLandsToDeck(allowedColors,setsToUse,landCardPool,callback);
  return deck;
}
