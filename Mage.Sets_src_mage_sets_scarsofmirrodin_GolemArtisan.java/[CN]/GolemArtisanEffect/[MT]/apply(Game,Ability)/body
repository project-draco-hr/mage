{
  Permanent permanent=game.getPermanent(targetPointer.getFirst(game,source));
  Player playerControls=game.getPlayer(source.getControllerId());
  if (permanent != null && playerControls != null) {
    Choice abilityChoice=new ChoiceImpl();
    abilityChoice.setMessage("Choose an ability to add");
    Set<String> abilities=new HashSet<>();
    abilities.add(FlyingAbility.getInstance().getRule());
    abilities.add(TrampleAbility.getInstance().getRule());
    abilities.add(HasteAbility.getInstance().getRule());
    abilityChoice.setChoices(abilities);
    playerControls.choose(Outcome.AddAbility,abilityChoice,game);
    String chosen=abilityChoice.getChoice();
    Ability ability=null;
    if (FlyingAbility.getInstance().getRule().equals(chosen)) {
      ability=FlyingAbility.getInstance();
    }
 else     if (TrampleAbility.getInstance().getRule().equals(chosen)) {
      ability=TrampleAbility.getInstance();
    }
 else     if (HasteAbility.getInstance().getRule().equals(chosen)) {
      ability=HasteAbility.getInstance();
    }
    if (ability != null) {
      ContinuousEffect effect=new GainAbilityTargetEffect(ability,Duration.EndOfTurn);
      game.addEffect(effect,source);
      return true;
    }
  }
  return false;
}
