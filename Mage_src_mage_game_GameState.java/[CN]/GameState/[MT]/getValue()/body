{
  StringBuilder sb=new StringBuilder(1024);
  sb.append(turnNum).append(turn.getPhaseType()).append(turn.getStepType()).append(activePlayerId).append(priorityPlayerId);
  for (  Player player : players.values()) {
    sb.append("player").append(player.getLife()).append("hand").append(player.getHand()).append("library").append(player.getLibrary().size()).append("graveyard").append(player.getGraveyard());
  }
  for (  UUID permanentId : battlefield.getAllPermanentIds()) {
    sb.append("permanent").append(permanentId);
  }
  for (  StackObject spell : stack) {
    sb.append("spell").append(spell.getId());
  }
  for (  ExileZone zone : exile.getExileZones()) {
    sb.append("exile").append(zone.getName()).append(zone);
  }
  return sb.toString();
}
