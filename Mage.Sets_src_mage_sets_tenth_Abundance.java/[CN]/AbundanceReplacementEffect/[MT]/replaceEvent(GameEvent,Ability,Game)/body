{
  Player player=game.getPlayer(event.getPlayerId());
  if (player != null) {
    FilterCard filter=new FilterCard();
    if (player.chooseUse(Outcome.Benefit,"Choose land? (No = nonland)",game)) {
      filter.add(new CardTypePredicate(CardType.LAND));
    }
 else {
      filter.add(Predicates.not(new CardTypePredicate(CardType.LAND)));
    }
    Cards cards=new CardsImpl();
    while (player.getLibrary().size() > 0) {
      Card card=player.getLibrary().removeFromTop(game);
      if (filter.match(card,source.getSourceId(),source.getControllerId(),game)) {
        player.moveCardToHandWithInfo(card,source.getSourceId(),game,Zone.LIBRARY);
        break;
      }
      cards.add(card);
    }
    player.revealCards("Abundance",cards,game);
    player.putCardsOnBottomOfLibrary(cards,game,source,true);
  }
  return true;
}
