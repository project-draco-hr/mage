{
  if (layer == Layer.AbilityAddingRemovingEffects_6) {
    Player controller=game.getPlayer(source.getControllerId());
    if (controller != null) {
      for (      UUID playerId : controller.getInRange()) {
        Player player=game.getPlayer(playerId);
        if (player != null) {
          for (          Card card : player.getGraveyard().getCards(game)) {
            if (card != null) {
              card.getAbilities().clear();
              game.getContinuousEffects().removeGainedEffectsForSource(card.getId());
              game.getState().resetTriggersForSourceId(card.getId());
            }
          }
        }
      }
      return true;
    }
  }
  return false;
}
