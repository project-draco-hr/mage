{
  Player player=game.getPlayer(source.getControllerId());
  if (player != null) {
    TargetControlledPermanent target=new TargetControlledPermanent(number,number,filter,true);
    if (player.choose(this.outcome,target,source.getSourceId(),game)) {
      for (      UUID targetCreatureId : (List<UUID>)target.getTargets()) {
        Permanent permanent=game.getPermanent(targetCreatureId);
        if (permanent != null) {
          player.moveCardToHandWithInfo(permanent,source.getSourceId(),game,Zone.BATTLEFIELD);
        }
      }
    }
    return true;
  }
  return false;
}
