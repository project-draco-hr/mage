{
  Player controller=game.getPlayer(source.getControllerId());
  MageObject mageObject=game.getObject(source.getSourceId());
  if (controller != null) {
    Set<Card> topCards=controller.getLibrary().getTopCards(game,5);
    Cards cardsFromLibrary=new CardsImpl();
    for (    Card card : topCards) {
      cardsFromLibrary.add(card);
    }
    controller.lookAtCards(mageObject.getIdName(),cardsFromLibrary,game);
    int max=0;
    for (    UUID playerId : controller.getInRange()) {
      FilterCreaturePermanent filter=new FilterCreaturePermanent();
      filter.add(new ControllerIdPredicate(playerId));
      if (playerId != controller.getId()) {
        if (max < game.getBattlefield().countAll(filter,playerId,game)) {
          max=game.getBattlefield().countAll(filter,playerId,game);
        }
      }
    }
    boolean moreCreatures=game.getBattlefield().countAll(new FilterControlledCreaturePermanent(),controller.getId(),game) > max;
    TargetCard target=new TargetCard(moreCreatures ? 2 : 1,Zone.LIBRARY,new FilterCard());
    if (controller.choose(Outcome.DrawCard,cardsFromLibrary,target,game)) {
      cardsFromLibrary.removeAll(target.getTargets());
      controller.moveCards(new CardsImpl(target.getTargets()),null,Zone.HAND,source,game);
    }
    controller.putCardsOnBottomOfLibrary(cardsFromLibrary,game,source,true);
    return true;
  }
  return false;
}
