{
  Permanent perm=game.getPermanent(source.getSourceId());
  if (perm != null) {
    Player player=game.getPlayer(perm.getOwnerId());
    if (player != null) {
      perm.moveToZone(Zone.LIBRARY,source.getId(),game,true);
      player.shuffleLibrary(game);
      Cards cards=new CardsImpl();
      while (true) {
        Card card=player.getLibrary().removeFromTop(game);
        if (card == null)         break;
        if (card.getName().equals("Mirror-Mad Phantasm")) {
          card.putOntoBattlefield(game,Zone.LIBRARY,source.getId(),player.getId());
          break;
        }
        cards.add(card);
      }
      player.revealCards("Mirror-Mad Phantasm",cards,game);
      for (      Card card : cards.getCards(game)) {
        card.moveToZone(Zone.GRAVEYARD,source.getId(),game,false);
      }
      return true;
    }
  }
  return false;
}
