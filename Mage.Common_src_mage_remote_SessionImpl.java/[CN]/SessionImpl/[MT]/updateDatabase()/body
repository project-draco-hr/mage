{
  List<String> classNames=CardRepository.instance.getClassNames();
  List<CardInfo> cards=server.getMissingCardsData(classNames);
  CardRepository.instance.addCards(cards);
  List<String> setCodes=ExpansionRepository.instance.getSetCodes();
  List<ExpansionInfo> expansions=server.getMissingExpansionData(setCodes);
  for (  ExpansionInfo expansion : expansions) {
    ExpansionRepository.instance.add(expansion);
  }
}
