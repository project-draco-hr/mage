{
  List list=new LinkedList(map.entrySet());
  Collections.sort(list,new Comparator(){
    public int compare(    Object o2,    Object o1){
      return ((Comparable)((Map.Entry)(o1)).getValue()).compareTo(((Map.Entry)(o2)).getValue());
    }
  }
);
  Map result=new LinkedHashMap();
  for (Iterator it=list.iterator(); it.hasNext(); ) {
    Map.Entry entry=(Map.Entry)it.next();
    result.put(entry.getKey(),entry.getValue());
  }
  return result;
}
