{
  if (super.apply(game,source)) {
    Object value=game.getState().getValue(manaProducer + "_type");
    if (value != null && value instanceof String) {
      MageObject object=game.getObject(source.getSourceId());
      if (object.hasSubtype((String)value)) {
        return true;
      }
    }
  }
  return false;
}
