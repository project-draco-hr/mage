{
  Game sim=game.copy();
  sim.getStack().push(new StackAbility(ability,playerId));
  if (ability.activate(sim,false) && ability.isUsesStack()) {
    game.fireEvent(new GameEvent(GameEvent.EventType.TRIGGERED_ABILITY,ability.getId(),ability.getSourceId(),ability.getControllerId()));
  }
  sim.applyEffects();
  SimulationNode2 newNode=new SimulationNode2(parent,sim,depth,playerId);
  logger.debug("simulating -- node #:" + SimulationNode2.getCount() + " triggered ability option");
  for (  Target target : ability.getTargets()) {
    for (    UUID targetId : target.getTargets()) {
      newNode.getTargets().add(targetId);
    }
  }
  for (  Choice choice : ability.getChoices()) {
    newNode.getChoices().add(choice.getChoice());
  }
  parent.children.add(newNode);
}
