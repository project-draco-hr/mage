{
  if (options.isEmpty()) {
    return options;
  }
  Iterator<Ability> iterator=options.iterator();
  boolean bad=false;
  for (  Effect effect : ability.getEffects()) {
    if (effect.getOutcome().isGood()) {
      bad=false;
      break;
    }
 else {
      bad=true;
    }
  }
  if (bad) {
    while (iterator.hasNext()) {
      Ability ability1=iterator.next();
      if (ability1.getTargets().size() == 1) {
        Permanent permanent=game.getPermanent(ability1.getFirstTarget());
        if (permanent != null && permanent.getControllerId().equals(playerId)) {
          iterator.remove();
        }
      }
    }
  }
  return options;
}
