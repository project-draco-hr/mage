{
  for (  Permanent creature : game.getState().getBattlefield().getActivePermanents(filter,source.getControllerId(),source.getSourceId(),game)) {
    Player player=game.getPlayer(creature.getControllerId());
    if (player != null) {
      boolean paid=false;
      if (player.chooseUse(outcome,new StringBuilder("Pay {3} to keep ").append(creature.getName()).append(" on the battlefield?").toString(),game)) {
        Cost cost=new GenericManaCost(3);
        if (!cost.pay(source,game,source.getSourceId(),creature.getControllerId(),false)) {
          paid=true;
        }
        if (!paid) {
          creature.moveToZone(Constants.Zone.HAND,source.getSourceId(),game,true);
        }
      }
    }
  }
  return true;
}
