{
  boolean trigger=!getTurn().isEndTurnRequested();
  boolean somethingHappened=false;
  while (!isPaused() && !gameOver(null)) {
    if (!checkStateBasedActions()) {
      if (trigger) {
        state.handleSimultaneousEvent(this);
      }
      if (isPaused() || gameOver(null) || !trigger|| !checkTriggered()) {
        break;
      }
    }
    applyEffects();
    somethingHappened=true;
  }
  return somethingHappened;
}
