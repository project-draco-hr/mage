{
  Player player=getPlayer(ownerId);
  if (player != null) {
    loadCards(ownerId,library);
    loadCards(ownerId,hand);
    loadCards(ownerId,battlefield);
    loadCards(ownerId,graveyard);
    for (    Card card : library) {
      setZone(card.getId(),Zone.LIBRARY);
      player.getLibrary().putOnTop(card,this);
    }
    for (    Card card : hand) {
      setZone(card.getId(),Zone.HAND);
      player.getHand().add(card);
    }
    for (    Card card : graveyard) {
      setZone(card.getId(),Zone.GRAVEYARD);
      player.getGraveyard().add(card);
    }
    for (    PermanentCard card : battlefield) {
      setZone(card.getId(),Zone.BATTLEFIELD);
      card.setOwnerId(ownerId);
      PermanentCard permanent=new PermanentCard(card.getCard(),ownerId);
      getBattlefield().addPermanent(permanent);
      permanent.entersBattlefield(permanent.getId(),this);
      ((PermanentImpl)permanent).removeSummoningSickness();
      if (card.isTapped())       permanent.setTapped(true);
    }
    applyEffects();
  }
}
