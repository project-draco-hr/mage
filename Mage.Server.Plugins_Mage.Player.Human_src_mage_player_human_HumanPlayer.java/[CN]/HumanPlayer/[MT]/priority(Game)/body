{
  passed=false;
  if (!abort) {
    if (passedAllTurns) {
      pass();
      return false;
    }
    if (passedTurn && game.getStack().isEmpty()) {
      pass();
      return false;
    }
    updateGameStatePriority("priority",game);
    game.firePriorityEvent(playerId);
    waitForResponse();
    if (response.getBoolean() != null) {
      pass();
      return false;
    }
 else     if (response.getInteger() != null) {
      if (response.getInteger() == -9999) {
        passedAllTurns=true;
      }
      pass();
      passedTurn=true;
      return false;
    }
 else     if (response.getString() != null && response.getString().equals("special")) {
      specialAction(game);
    }
 else     if (response.getUUID() != null) {
      MageObject object=game.getObject(response.getUUID());
      if (object != null) {
        LinkedHashMap<UUID,ActivatedAbility> useableAbilities=null;
        Zone zone=game.getState().getZone(object.getId());
        if (zone != null) {
          useableAbilities=getUseableActivatedAbilities(object,zone,game);
          if (useableAbilities != null && useableAbilities.size() > 0) {
            activateAbility(useableAbilities,game);
          }
        }
      }
    }
    return true;
  }
  return false;
}
