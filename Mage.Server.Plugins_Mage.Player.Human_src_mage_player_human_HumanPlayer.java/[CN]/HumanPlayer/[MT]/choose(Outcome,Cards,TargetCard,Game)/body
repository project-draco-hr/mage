{
  game.getState().setPriorityPlayerId(getId());
  while (!abort) {
    boolean required=target.isRequired();
    if (cards == null) {
      required=false;
    }
 else {
      int count=cards.count(target.getFilter(),game);
      if (count == 0)       required=false;
    }
    game.fireSelectTargetEvent(playerId,target.getMessage(),cards,required,getOptions(target));
    waitForResponse();
    if (response.getUUID() != null) {
      if (target.canTarget(response.getUUID(),cards,game)) {
        target.add(response.getUUID(),game);
        if (target.doneChosing()) {
          return true;
        }
      }
    }
 else     if (!required) {
      return false;
    }
  }
  return false;
}
