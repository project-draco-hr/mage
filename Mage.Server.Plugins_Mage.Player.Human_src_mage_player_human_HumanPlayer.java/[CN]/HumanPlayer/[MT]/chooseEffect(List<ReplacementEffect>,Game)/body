{
  game.getState().setPriorityPlayerId(getId());
  replacementEffectChoice.getChoices().clear();
  for (  ReplacementEffect effect : rEffects) {
    replacementEffectChoice.getChoices().add(effect.getText(null));
  }
  if (replacementEffectChoice.getChoices().size() == 1)   return 0;
  while (!abort) {
    game.fireChooseEvent(playerId,replacementEffectChoice);
    waitForResponse();
    if (response.getString() != null) {
      replacementEffectChoice.setChoice(response.getString());
      for (int i=0; i < rEffects.size(); i++) {
        if (replacementEffectChoice.getChoice().equals(rEffects.get(i).getText(null)))         return i;
      }
    }
  }
  return 0;
}
