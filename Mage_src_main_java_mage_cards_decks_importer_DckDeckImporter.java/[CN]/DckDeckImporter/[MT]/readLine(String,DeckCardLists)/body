{
  if (line.length() == 0 || line.startsWith("#")) {
    return;
  }
  Matcher m=pattern.matcher(line);
  if (m.matches()) {
    boolean sideboard=false;
    if ("SB:".equals(m.group(1))) {
      sideboard=true;
    }
    int count=Integer.parseInt(m.group(2));
    String setCode=m.group(3);
    String cardNum=m.group(4);
    DeckCardInfo deckCardInfo=null;
    CardInfo cardInfo=CardRepository.instance.findCard(setCode,cardNum);
    if (cardInfo != null) {
      deckCardInfo=new DeckCardInfo(cardInfo.getName(),cardInfo.getCardNumber(),cardInfo.getSetCode());
    }
    if (deckCardInfo != null) {
      for (int i=0; i < count; i++) {
        if (!sideboard) {
          deckList.getCards().add(deckCardInfo);
        }
 else {
          deckList.getSideboard().add(deckCardInfo);
        }
      }
    }
 else {
      sbMessage.append("Could not find card '").append("' at line ").append(lineCount).append(": ").append(line).append("\n");
    }
  }
 else   if (line.startsWith("NAME:")) {
    deckList.setName(line.substring(5,line.length()));
  }
 else   if (line.startsWith("AUTHOR:")) {
    deckList.setAuthor(line.substring(7,line.length()));
  }
}
