{
  removeInactiveEffects(game);
  List<ContinuousEffect> layerEffects=getLayeredEffects(game);
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.CopyEffects_1,SubLayer.CharacteristicDefining_7a,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.CopyEffects_1,SubLayer.NA,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.ControlChangingEffects_2,SubLayer.CharacteristicDefining_7a,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.ControlChangingEffects_2,SubLayer.NA,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.TextChangingEffects_3,SubLayer.CharacteristicDefining_7a,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.TextChangingEffects_3,SubLayer.NA,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.TypeChangingEffects_4,SubLayer.CharacteristicDefining_7a,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.TypeChangingEffects_4,SubLayer.NA,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.ColorChangingEffects_5,SubLayer.CharacteristicDefining_7a,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.ColorChangingEffects_5,SubLayer.NA,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.AbilityAddingRemovingEffects_6,SubLayer.CharacteristicDefining_7a,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.AbilityAddingRemovingEffects_6,SubLayer.NA,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.PTChangingEffects_7,SubLayer.CharacteristicDefining_7a,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.PTChangingEffects_7,SubLayer.SetPT_7b,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.PTChangingEffects_7,SubLayer.ModifyPT_7c,abilityMap.get(effect),game);
  }
  applyCounters.apply(Layer.PTChangingEffects_7,SubLayer.Counters_7d,null,game);
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.PTChangingEffects_7,SubLayer.SwitchPT_e,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.PlayerEffects,SubLayer.NA,abilityMap.get(effect),game);
  }
  for (  ContinuousEffect effect : layerEffects) {
    effect.apply(Layer.RulesEffects,SubLayer.NA,abilityMap.get(effect),game);
  }
}
