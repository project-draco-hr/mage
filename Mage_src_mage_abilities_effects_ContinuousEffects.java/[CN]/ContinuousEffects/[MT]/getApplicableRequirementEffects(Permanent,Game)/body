{
  List<RequirementEffect> effects=new ArrayList<RequirementEffect>();
  for (  RequirementEffect effect : requirementEffects) {
    Ability ability=abilityMap.get(effect.getId());
    if (!(ability instanceof StaticAbility) || ability.getZone() == game.getZone(ability.getSourceId())) {
      if (effect.applies(permanent,ability,game))       effects.add(effect);
    }
  }
  return effects;
}
