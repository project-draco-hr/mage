{
  List<RestrictionEffect> effects=new ArrayList<RestrictionEffect>();
  for (  RestrictionEffect effect : restrictionEffects) {
    Ability ability=abilityMap.get(effect.getId());
    if (!(ability instanceof StaticAbility) || ability.getZone() == game.getZone(ability.getSourceId())) {
      if (effect.applies(permanent,ability,game))       effects.add(effect);
    }
  }
  return effects;
}
