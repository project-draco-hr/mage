{
  List<ContinuousEffect> layerEffects=new ArrayList<ContinuousEffect>();
  for (  ContinuousEffect effect : layeredEffects) {
    Ability ability=abilityMap.get(effect.getId());
    if (ability.isInUseableZone(game)) {
      layerEffects.add(effect);
    }
  }
  Collections.sort(layerEffects,new TimestampSorter());
  return layerEffects;
}
