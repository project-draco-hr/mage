{
  if (effect instanceof ReplacementEffect)   replacementEffects.put((ReplacementEffect)effect,source);
 else   if (effect instanceof PreventionEffect)   preventionEffects.put((PreventionEffect)effect,source);
 else   if (effect instanceof AsThoughEffect)   asThoughEffects.put((AsThoughEffect)effect,source);
 else   layeredEffects.put(effect,source);
}
