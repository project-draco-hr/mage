{
  if (!this.match(spell))   return notFilter;
  if (controller != TargetController.ANY && playerId != null) {
switch (controller) {
case YOU:
      if (!spell.getControllerId().equals(playerId))       return notFilter;
    break;
case OPPONENT:
  if (!game.getOpponents(playerId).contains(spell.getControllerId()))   return notFilter;
break;
case NOT_YOU:
if (spell.getControllerId().equals(playerId)) return notFilter;
break;
}
}
return !notFilter;
}
