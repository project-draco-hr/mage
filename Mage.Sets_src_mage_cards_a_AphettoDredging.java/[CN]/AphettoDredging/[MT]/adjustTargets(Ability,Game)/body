{
  if (ability instanceof SpellAbility) {
    Player controller=game.getPlayer(ability.getControllerId());
    if (controller != null) {
      Choice typeChoice=new ChoiceImpl(true);
      typeChoice.setMessage("Choose a creature type");
      typeChoice.setChoices(CardRepository.instance.getCreatureTypes());
      while (!controller.choose(Outcome.PutCreatureInPlay,typeChoice,game)) {
        if (!controller.canRespond()) {
          return;
        }
      }
      String chosenType=typeChoice.getChoice();
      FilterCreatureCard filter=new FilterCreatureCard(chosenType + " cards");
      filter.add(new SubtypePredicate(chosenType));
      ability.addTarget(new TargetCardInYourGraveyard(0,3,filter));
    }
  }
}
