{
  for (  Ability ability : abilities) {
    Card sourceCard=null;
switch (ability.getZone()) {
case ALL:
case EXILED:
case GRAVEYARD:
      sourceCard=game.getCard(ability.getSourceId());
    break;
case BATTLEFIELD:
  sourceCard=game.getPermanent(ability.getSourceId());
if (sourceCard == null) sourceCard=(Permanent)game.getLastKnownInformation(ability.getSourceId(),Zone.BATTLEFIELD);
break;
case COMMAND:
ability.newId();
this.put(ability.getId(),new AbilityView(ability,"Emblem",new CardView("Emblem")));
break;
}
if (sourceCard != null) {
this.put(ability.getId(),new AbilityView(ability,sourceCard.getName(),new CardView(sourceCard)));
}
}
}
