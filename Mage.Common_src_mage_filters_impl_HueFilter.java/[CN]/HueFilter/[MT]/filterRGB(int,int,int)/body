{
  int a=rgb & 0xff000000;
  int r=(rgb >> 16) & 0xff;
  int g=(rgb >> 8) & 0xff;
  int b=rgb & 0xff;
  Color.RGBtoHSB(r,g,b,hsb);
  hsb[0]+=hue;
  while (hsb[0] < 0) {
    hsb[0]+=Math.PI * 2;
  }
  rgb=Color.HSBtoRGB(hsb[0],hsb[1],hsb[2]);
  return a | (rgb & 0xffffff);
}
