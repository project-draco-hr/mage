{
  List<Class> classes=new ArrayList<Class>();
  if (!file.exists()) {
    return classes;
  }
  try {
    URL url=file.toURL();
    URL[] urls=new URL[]{url};
    ClassLoader cl=new URLClassLoader(urls);
    JarInputStream jarFile=new JarInputStream(new FileInputStream(file));
    JarEntry jarEntry;
    while (true) {
      jarEntry=jarFile.getNextJarEntry();
      if (jarEntry == null) {
        break;
      }
      if ((jarEntry.getName().startsWith(packageName)) && (jarEntry.getName().endsWith(".class"))) {
        String clazz=jarEntry.getName().replaceAll("/","\\.").replace(".class","");
        Class c=cl.loadClass(clazz);
        if (CardImpl.class.isAssignableFrom(c)) {
          classes.add(c);
        }
      }
    }
  }
 catch (  Exception e) {
    logger.fatal("Error loading classes - " + file,e);
  }
  return classes;
}
