{
  this.roomId=roomId;
  session=MageFrame.getSession();
  updateTask=new UpdateTablesTask(session,roomId,this);
  updatePlayersTask=new UpdatePlayersTask(session,roomId,this.chatPanel);
  if (session != null) {
    btnQuickStart.setVisible(session.isTestMode());
  }
  if (newTableDialog == null) {
    newTableDialog=new NewTableDialog();
    MageFrame.getDesktop().add(newTableDialog);
  }
  if (newTournamentDialog == null) {
    newTournamentDialog=new NewTournamentDialog();
    MageFrame.getDesktop().add(newTournamentDialog);
  }
  if (joinTableDialog == null) {
    joinTableDialog=new JoinTableDialog();
    MageFrame.getDesktop().add(joinTableDialog);
  }
  if (tableWaitingDialog == null) {
    tableWaitingDialog=new TableWaitingDialog();
    MageFrame.getDesktop().add(tableWaitingDialog);
  }
  UUID chatRoomId=session.getRoomChatId(roomId);
  if (chatRoomId != null) {
    this.chatPanel.connect(chatRoomId);
    updateTask.execute();
    updatePlayersTask.execute();
    this.setVisible(true);
    this.repaint();
  }
 else {
    hideTables();
  }
  session.getUI().addButton(MageComponents.NEW_GAME_BUTTON,btnNewTable);
}
