{
  GameEvent event=new GameEvent(GameEvent.EventType.DAMAGE_PLANESWALKER,objectId,sourceId,controllerId,damage);
  if (!preventable || !game.replaceEvent(event)) {
    int actualDamage=event.getAmount();
    if (actualDamage > 0) {
      if (event.getAmount() > this.loyalty.getValue()) {
        actualDamage=this.loyalty.getValue();
      }
      this.loyalty.boostValue(-actualDamage);
      game.fireEvent(GameEvent.getEvent(EventType.DAMAGED_PLANESWALKER,objectId,sourceId,controllerId,actualDamage));
      return actualDamage;
    }
  }
  return 0;
}
