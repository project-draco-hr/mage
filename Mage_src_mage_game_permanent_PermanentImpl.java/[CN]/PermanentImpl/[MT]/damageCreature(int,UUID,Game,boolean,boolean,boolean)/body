{
  GameEvent event=new DamageCreatureEvent(objectId,sourceId,controllerId,damage,preventable,combat);
  if (!game.replaceEvent(event)) {
    int actualDamage=event.getAmount();
    if (actualDamage > 0) {
      MageObject source=game.getObject(sourceId);
      if (source != null && (source.getAbilities().containsKey(InfectAbility.getInstance().getId()) || source.getAbilities().containsKey(WitherAbility.getInstance().getId()))) {
        if (markDamage) {
          markDamage(CounterType.M1M1.createInstance(actualDamage));
        }
 else {
          addCounters(CounterType.M1M1.createInstance(actualDamage),game);
        }
      }
 else {
        this.damage+=actualDamage;
      }
      game.fireEvent(new DamagedCreatureEvent(objectId,sourceId,controllerId,actualDamage,combat));
      return actualDamage;
    }
  }
  return 0;
}
