{
  GameEvent event=GameEvent.getEvent(GameEvent.EventType.ADD_COUNTER,objectId,controllerId,name,amount);
  event.setAppliedEffects(appliedEffects);
  if (!game.replaceEvent(event)) {
    counters.addCounter(name,amount);
    game.fireEvent(GameEvent.getEvent(GameEvent.EventType.COUNTER_ADDED,objectId,controllerId,name,amount));
  }
}
