{
  if (color == null) {
    return;
  }
  try {
    setEditable(true);
    StyleContext sc=StyleContext.getDefaultStyleContext();
    AttributeSet aset=sc.addAttribute(SimpleAttributeSet.EMPTY,StyleConstants.Foreground,color);
    int len=getDocument().getLength();
    setCaretPosition(len);
    setCharacterAttributes(aset,false);
    replaceSelection(s);
    setEditable(false);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
