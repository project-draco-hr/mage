{
  Player player=game.getPlayer(id);
  MageObject targetSource=game.getObject(attackerId);
  if (player != null && source != null) {
    return notTarget || (player.canBeTargetedBy(targetSource,source.getControllerId(),game) && filter.match(player,game));
  }
  Permanent permanent=game.getPermanent(id);
  if (permanent != null) {
    UUID controllerId=null;
    if (source != null) {
      controllerId=source.getControllerId();
    }
    return permanent.canBeTargetedBy(targetSource,controllerId,game) && filter.match(permanent,game);
  }
  return false;
}
