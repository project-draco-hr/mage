{
  Card card=game.getCard(source.getFirstTarget());
  if (card != null) {
    if (game.getState().getZone(card.getId()).equals(Zone.GRAVEYARD)) {
      Player player=game.getPlayer(card.getOwnerId());
      if (card.putOntoBattlefield(game,Zone.GRAVEYARD,source.getId(),source.getControllerId())) {
        player.getGraveyard().remove(card);
        Permanent permanent=game.getPermanent(card.getId());
        if (permanent != null) {
          permanent.setTapped(true);
        }
        int xvalue=card.getManaCost().convertedManaCost();
        int cardsCount=Math.min(xvalue,player.getLibrary().size());
        for (int i=0; i < cardsCount; i++) {
          Card removedCard=player.getLibrary().getFromTop(game);
          if (removedCard != null) {
            removedCard.moveToZone(Zone.GRAVEYARD,source.getId(),game,false);
          }
 else {
            break;
          }
        }
      }
    }
  }
  return false;
}
