{
  Permanent attacker=game.getPermanent(attackers.get(0));
  Player player=game.getPlayer(attacker.getControllerId());
  int damage=attacker.getPower().getValue();
  if (attacker != null && canDamage(attacker,first)) {
    for (    UUID blockerId : blockerOrder) {
      Permanent blocker=game.getPermanent(blockerId);
      int lethalDamage=blocker.getToughness().getValue() - blocker.getDamage();
      if (lethalDamage >= damage) {
        blocker.damage(damage,attacker.getId(),game,true);
        damage=0;
        break;
      }
      int damageAssigned=player.getAmount(lethalDamage,damage,"Assign damage to " + blocker.getName(),game);
      blocker.damage(damageAssigned,attacker.getId(),game,true);
      damage-=damageAssigned;
    }
    if (damage > 0 && hasTrample(attacker)) {
      defenderDamage(attacker,damage,game);
    }
    for (    UUID blockerId : blockerOrder) {
      Permanent blocker=game.getPermanent(blockerId);
      if (canDamage(blocker,first)) {
        attacker.damage(blocker.getPower().getValue(),blocker.getId(),game,true);
      }
    }
  }
}
