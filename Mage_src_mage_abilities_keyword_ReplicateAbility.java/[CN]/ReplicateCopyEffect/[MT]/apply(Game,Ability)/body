{
  Player controller=game.getPlayer(source.getControllerId());
  if (controller != null) {
    Spell spell=(Spell)this.getValue("ReplicateSpell");
    int replicateCount=(Integer)this.getValue("ReplicateCount");
    if (spell != null && replicateCount > 0) {
      Card card=game.getCard(spell.getSourceId());
      if (card != null) {
        for (        Ability ability : card.getAbilities()) {
          if (ability instanceof ReplicateAbility) {
            if (((ReplicateAbility)ability).isActivated()) {
              ((ReplicateAbility)ability).resetReplicate();
            }
          }
        }
      }
      for (int i=0; i < replicateCount; i++) {
        Spell copy=spell.copySpell();
        copy.setControllerId(source.getControllerId());
        copy.setCopiedSpell(true);
        game.getStack().push(copy);
        copy.chooseNewTargets(game,source.getControllerId());
        if (!game.isSimulation())         game.informPlayers(new StringBuilder(controller.getName()).append(copy.getActivatedMessage(game)).toString());
      }
      return true;
    }
  }
  return false;
}
