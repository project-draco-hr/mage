{
  if (state == null) {
    gameResult("game ended");
  }
 else {
    Session session=SessionManager.getInstance().getSession(sessionId);
    if (session != null) {
      try {
        session.fireCallback(new ClientCallback("replayUpdate",replay.getGame().getId(),new GameView(state,game)));
      }
 catch (      CallbackException ex) {
        logger.fatal("replay update exception",ex);
      }
    }
  }
}
