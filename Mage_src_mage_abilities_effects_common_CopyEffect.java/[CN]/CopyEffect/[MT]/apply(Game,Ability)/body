{
  if (affectedObjectList.isEmpty()) {
    affectedObjectList.add(new MageObjectReference(getSourceId(),game));
  }
  Permanent permanent=affectedObjectList.get(0).getPermanent(game);
  if (permanent == null) {
    permanent=(Permanent)game.getLastKnownInformation(getSourceId(),Zone.BATTLEFIELD,source.getSourceObjectZoneChangeCounter());
    if (permanent == null) {
      discard();
      return false;
    }
  }
  permanent.setCopy(true);
  permanent.setName(copyFromObject.getName());
  permanent.getColor(game).setColor(copyFromObject.getColor(game));
  permanent.getManaCost().clear();
  permanent.getManaCost().add(copyFromObject.getManaCost());
  permanent.getCardType().clear();
  for (  CardType type : copyFromObject.getCardType()) {
    permanent.getCardType().add(type);
  }
  permanent.getSubtype().clear();
  for (  String type : copyFromObject.getSubtype()) {
    permanent.getSubtype().add(type);
  }
  permanent.getSupertype().clear();
  for (  String type : copyFromObject.getSupertype()) {
    permanent.getSupertype().add(type);
  }
  permanent.removeAllAbilities(source.getSourceId(),game);
  for (  Ability ability : copyFromObject.getAbilities()) {
    permanent.addAbility(ability,getSourceId(),game,false);
  }
  permanent.getPower().setValue(copyFromObject.getPower().getValue());
  permanent.getToughness().setValue(copyFromObject.getToughness().getValue());
  if (copyFromObject instanceof Permanent) {
    Permanent targetPermanent=(Permanent)copyFromObject;
    permanent.setTransformed(targetPermanent.isTransformed());
    permanent.setSecondCardFace(targetPermanent.getSecondCardFace());
    permanent.setFlipCard(targetPermanent.isFlipCard());
    permanent.setFlipCardName(targetPermanent.getFlipCardName());
  }
  if (copyFromObject instanceof PermanentCard) {
    permanent.setCardNumber(((PermanentCard)copyFromObject).getCard().getCardNumber());
    permanent.setExpansionSetCode(((PermanentCard)copyFromObject).getCard().getExpansionSetCode());
  }
 else   if (copyFromObject instanceof PermanentToken || copyFromObject instanceof Card) {
    permanent.setCardNumber(((Card)copyFromObject).getCardNumber());
    permanent.setExpansionSetCode(((Card)copyFromObject).getExpansionSetCode());
  }
  return true;
}
