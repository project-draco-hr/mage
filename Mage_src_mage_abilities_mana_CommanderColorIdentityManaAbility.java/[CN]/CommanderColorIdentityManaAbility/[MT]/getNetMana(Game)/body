{
  if (netMana.isEmpty()) {
    Player controller=game.getPlayer(getControllerId());
    if (controller != null) {
      if (commanderMana == null) {
        Card commander=game.getCard(controller.getCommanderId());
        if (commander != null) {
          commanderMana=CardUtil.getColorIdentity(commander);
        }
 else {
          commanderMana=new FilterMana();
        }
      }
      if (commanderMana.isBlack()) {
        netMana.add(new Mana(ColoredManaSymbol.B));
      }
      if (commanderMana.isBlue()) {
        netMana.add(new Mana(ColoredManaSymbol.U));
      }
      if (commanderMana.isGreen()) {
        netMana.add(new Mana(ColoredManaSymbol.G));
      }
      if (commanderMana.isRed()) {
        netMana.add(new Mana(ColoredManaSymbol.R));
      }
      if (commanderMana.isWhite()) {
        netMana.add(new Mana(ColoredManaSymbol.W));
      }
    }
  }
  return netMana;
}
