{
  Player player=game.getPlayer(source.getControllerId());
  if (player != null) {
    for (    Permanent permanent : game.getState().getBattlefield().getActivePermanents(filter,source.getControllerId(),source.getSourceId(),game)) {
switch (layer) {
case TypeChangingEffects_4:
        if (!permanent.getCardType().contains(CardType.CREATURE)) {
          permanent.getCardType().add(CardType.CREATURE);
        }
      if (!permanent.getSubtype(game).contains("Saproling")) {
        permanent.getSubtype(game).add("Saproling");
      }
    if (!permanent.getCardType().contains(CardType.LAND)) {
      permanent.getCardType().add(CardType.LAND);
    }
  if (!permanent.getSubtype(game).contains("Forest")) {
    permanent.getSubtype(game).add("Forest");
  }
break;
case ColorChangingEffects_5:
permanent.getColor(game).setColor(ObjectColor.GREEN);
break;
case AbilityAddingRemovingEffects_6:
boolean flag=false;
for (Ability ability : permanent.getAbilities(game)) {
if (ability instanceof GreenManaAbility) {
flag=true;
break;
}
}
if (!flag) {
permanent.addAbility(new GreenManaAbility(),source.getSourceId(),game);
}
break;
case PTChangingEffects_7:
if (sublayer.equals(SubLayer.SetPT_7b)) {
permanent.getPower().setValue(1);
permanent.getToughness().setValue(1);
}
break;
}
}
return true;
}
return false;
}
