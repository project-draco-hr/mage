{
  if (Thread.interrupted()) {
    Thread.currentThread().interrupt();
    logger.debug("interrupted");
    return GameStateEvaluator2.evaluate(playerId,game);
  }
  logger.debug("simulating -- post combat main");
  game.getTurn().setPhase(new PostCombatMainPhase());
  if (game.getPhase().beginPhase(game,game.getActivePlayerId())) {
    game.getPhase().setStep(new PostCombatMainStep());
    game.getStep().beginStep(game,playerId);
    game.getPlayers().resetPassed();
    return addActions(node,depth,alpha,beta);
  }
  return GameStateEvaluator2.evaluate(playerId,game);
}
