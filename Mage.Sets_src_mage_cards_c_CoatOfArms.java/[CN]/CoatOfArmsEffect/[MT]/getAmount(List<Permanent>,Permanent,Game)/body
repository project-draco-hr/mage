{
  int amount=0;
  List<String> targetSubtype=target.getSubtype(game);
  if (target.getAbilities().contains(ChangelingAbility.getInstance())) {
    return permanents.size() - 1;
  }
  for (  Permanent permanent : permanents) {
    if (!permanent.getId().equals(target.getId())) {
      for (      String subtype : targetSubtype) {
        if (!CardUtil.isNonCreatureSubtype(subtype)) {
          if (permanent.hasSubtype(subtype,game)) {
            amount++;
            break;
          }
        }
      }
    }
  }
  return amount;
}
