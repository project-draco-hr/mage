{
  try {
    TableManager tableManager=TableManager.getInstance();
    Table table=tableManager.createTable(GamesRoomManager.getInstance().getMainRoomId(),matchOptions);
    table.setTournamentSubTable(true);
    table.setTournament(tournament);
    table.setState(TableState.WAITING);
    TournamentPlayer player1=pair.getPlayer1();
    TournamentPlayer player2=pair.getPlayer2();
    tableManager.addPlayer(getPlayerUserId(player1.getPlayer().getId()),table.getId(),player1.getPlayer(),player1.getPlayerType(),player1.getDeck());
    tableManager.addPlayer(getPlayerUserId(player2.getPlayer().getId()),table.getId(),player2.getPlayer(),player2.getPlayerType(),player2.getDeck());
    table.setState(TableState.STARTING);
    tableManager.startTournamentSubMatch(null,table.getId());
    Match match=tableManager.getMatch(table.getId());
    match.setTableId(tableId);
    pair.setMatch(match);
    pair.setTableId(table.getId());
    player1.setState(TournamentPlayerState.DUELING);
    player2.setState(TournamentPlayerState.DUELING);
  }
 catch (  GameException ex) {
    logger.fatal("TournamentController startMatch error",ex);
  }
}
