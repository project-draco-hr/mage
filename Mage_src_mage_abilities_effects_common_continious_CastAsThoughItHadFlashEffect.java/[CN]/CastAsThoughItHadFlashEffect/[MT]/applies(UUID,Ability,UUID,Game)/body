{
  Card card=game.getCard(sourceId);
  if (card != null && filter.match(card,game) && card.getSpellAbility().isInUseableZone(game,card,false)) {
    if (anyPlayer) {
      Player controller=game.getPlayer(source.getControllerId());
      if (controller != null) {
        return controller.getInRange().contains(card.getOwnerId());
      }
    }
 else {
      return card.getOwnerId().equals(source.getControllerId());
    }
  }
  return false;
}
