{
  if (this.affectedObjectsSet) {
    for (Iterator<UUID> it=objects.iterator(); it.hasNext(); ) {
      UUID permanentId=it.next();
      Permanent permanent=game.getPermanent(permanentId);
      if (permanent != null) {
        permanent.addPower(power.calculate(game,source,this));
        permanent.addToughness(toughness.calculate(game,source,this));
      }
 else {
        it.remove();
      }
    }
  }
 else {
    for (    Permanent perm : game.getBattlefield().getActivePermanents(filter,source.getControllerId(),source.getSourceId(),game)) {
      if (!(excludeSource && perm.getId().equals(source.getSourceId()))) {
        perm.addPower(power.calculate(game,source,this));
        perm.addToughness(toughness.calculate(game,source,this));
      }
    }
  }
  return true;
}
