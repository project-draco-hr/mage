{
  MageObject object=game.getObject(source.getSourceId());
  if (object != null && object instanceof Commander) {
    Commander commander=(Commander)object;
    Player controller=game.getPlayer(source.getControllerId());
    if (controller != null) {
      SpellAbility spellAbility=commander.getCard().getSpellAbility();
      spellAbility.clear();
      int amount=source.getManaCostsToPay().getX();
      spellAbility.getManaCostsToPay().setX(amount);
      for (      Target target : spellAbility.getTargets()) {
        target.setRequired(true);
      }
      if (controller.cast(spellAbility,game,true)) {
        Integer castCount=(Integer)game.getState().getValue(commander.getId() + "_castCount");
        if (castCount != null) {
          castCount++;
          game.getState().setValue(commander.getId() + "_castCount",castCount);
        }
 else {
          castCount=1;
          game.getState().setValue(commander.getId() + "_castCount",castCount);
        }
        return true;
      }
      return false;
    }
  }
  return false;
}
