{
  Player player=game.getPlayer(source.getControllerId());
  if (player != null && foundCardsToPick > 0) {
    if (!optional || player.chooseUse(Outcome.DrawCard,getMayText(),source,game)) {
      FilterCard pickFilter=filter.copy();
      pickFilter.setMessage(getPickText());
      TargetCard target=new TargetCard((upTo ? 0 : numberToPick.calculate(game,source,this)),numberToPick.calculate(game,source,this),Zone.PICK,pickFilter);
      if (player.choose(Outcome.DrawCard,cards,target,game)) {
        Cards reveal=new CardsImpl();
        for (        UUID cardId : target.getTargets()) {
          Card card=cards.get(cardId,game);
          if (card != null) {
            cards.remove(card);
            if (targetZoneLookedCards.equals(Zone.BATTLEFIELD)) {
              player.putOntoBattlefieldWithInfo(card,game,Zone.LIBRARY,source.getSourceId());
            }
 else {
              card.moveToZone(targetPickedCards,source.getSourceId(),game,false);
              if (!game.isSimulation())               game.informPlayers(player.getLogName() + " moves a card to " + targetPickedCards.toString().toLowerCase());
            }
            if (revealPickedCards) {
              reveal.add(card);
            }
          }
        }
        if (revealPickedCards) {
          player.revealCards(windowName,reveal,game);
        }
      }
    }
  }
}
