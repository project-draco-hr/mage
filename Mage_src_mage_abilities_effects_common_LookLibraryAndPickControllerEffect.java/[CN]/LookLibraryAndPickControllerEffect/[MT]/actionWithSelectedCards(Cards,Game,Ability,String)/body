{
  Player player=game.getPlayer(source.getControllerId());
  if (player != null && foundCardsToPick > 0) {
    if (!optional || player.chooseUse(Outcome.DrawCard,"Do you wish to reveal " + filter.getMessage() + " and put it into your hand?",game)) {
      FilterCard pickFilter=filter.copy();
      StringBuilder sb=new StringBuilder(filter.getMessage()).append(" to ");
      if (revealPickedCards) {
        sb.append("reveal and ");
      }
      sb.append("put into your hand");
      pickFilter.setMessage(sb.toString());
      TargetCard target=new TargetCard((upTo ? 0 : numberToPick.calculate(game,source)),numberToPick.calculate(game,source),Zone.PICK,pickFilter);
      if (player.choose(Outcome.DrawCard,cards,target,game)) {
        Cards reveal=new CardsImpl();
        for (        UUID cardId : (List<UUID>)target.getTargets()) {
          Card card=cards.get(cardId,game);
          if (card != null) {
            cards.remove(card);
            card.moveToZone(targetPickedCards,source.getId(),game,false);
            if (revealPickedCards) {
              reveal.add(card);
            }
          }
        }
        if (revealPickedCards) {
          player.revealCards(windowName,reveal,game);
        }
      }
    }
  }
}
