{
  lock.lock();
  try {
    while (!waitingForCallback) {
      logger.trace("waiting for callback state to call:" + call.getMethod());
      waiting.await();
    }
    callback.setMethod(call.getMethod());
    callback.setData(call.getData());
    callback.setObjectId(call.getObjectId());
    callback.setMessageId(call.getMessageId());
    callbackCalled.signal();
  }
  finally {
    lock.unlock();
  }
}
