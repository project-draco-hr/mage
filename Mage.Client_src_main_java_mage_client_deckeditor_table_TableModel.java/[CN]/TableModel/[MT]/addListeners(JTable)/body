{
  table.addKeyListener(new KeyListener(){
    @Override public void keyPressed(    KeyEvent ev){
    }
    @Override public void keyTyped(    KeyEvent ev){
    }
    @Override public void keyReleased(    KeyEvent ev){
      int row=table.getSelectedRow();
      if (row != -1) {
        showImage(row);
      }
    }
  }
);
  table.addMouseListener(new MouseAdapter(){
    @Override public void mousePressed(    MouseEvent e){
      int row=table.getSelectedRow();
      if (row != -1) {
        showImage(row);
      }
    }
  }
);
  MouseListener mouse=new MouseAdapter(){
    @Override public void mousePressed(    MouseEvent e){
      TableColumnModel columnModel=table.getColumnModel();
      int viewColumn=columnModel.getColumnIndexAtX(e.getX());
      int column=table.convertColumnIndexToModel(viewColumn);
      if (column != -1) {
        boolean asc=true;
        if (recentSortedColumn == column) {
          asc=!recentAscending;
        }
        sort(column,asc);
        fireTableDataChanged();
      }
    }
  }
;
  table.getTableHeader().addMouseListener(mouse);
}
