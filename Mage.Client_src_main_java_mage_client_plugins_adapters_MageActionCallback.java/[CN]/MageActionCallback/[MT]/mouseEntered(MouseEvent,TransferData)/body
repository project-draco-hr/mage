{
  hidePopup();
  cancelTimeout();
  this.popupCard=data.card;
  this.popupData=data;
  Component parentComponent=SwingUtilities.getRoot(data.component);
  Point parentPoint=parentComponent.getLocationOnScreen();
  drawArrowsForTargets(data,parentPoint);
  drawArrowsForSource(data,parentPoint);
  drawArrowsForPairedCards(data,parentPoint);
  showPopup(data,parentComponent,parentPoint);
}
