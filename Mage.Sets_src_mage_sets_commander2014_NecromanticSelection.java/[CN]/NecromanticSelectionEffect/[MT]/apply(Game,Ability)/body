{
  Player controller=game.getPlayer(source.getControllerId());
  MageObject sourceObject=game.getObject(source.getSourceId());
  if (sourceObject != null && controller != null) {
    Cards cards=new CardsImpl();
    for (    Permanent permanent : game.getBattlefield().getActivePermanents(new FilterCreaturePermanent(),controller.getId(),source.getSourceId(),game)) {
      cards.add(permanent);
      controller.moveCardToGraveyardWithInfo(permanent,source.getSourceId(),game,Zone.BATTLEFIELD);
    }
    FilterCard filter=new FilterCreatureCard("creature card put into a graveyard with " + sourceObject.getLogName());
    ArrayList<Predicate<MageObject>> cardIdPredicates=new ArrayList<>();
    for (    UUID cardId : cards) {
      cardIdPredicates.add(new CardIdPredicate(cardId));
    }
    filter.add(Predicates.or(cardIdPredicates));
    Target target=new TargetCardInGraveyard(filter);
    if (controller.chooseTarget(outcome,target,source,game)) {
      Card card=game.getCard(target.getFirstTarget());
      if (card != null) {
        controller.putOntoBattlefieldWithInfo(card,game,Zone.GRAVEYARD,source.getSourceId());
        ContinuousEffect effect=new NecromanticSelectionContinuousEffect();
        effect.setTargetPointer(new FixedTarget(card.getId()));
        game.addEffect(effect,source);
      }
    }
    return true;
  }
  return false;
}
