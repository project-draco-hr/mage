{
  initComponents();
  combat=new CombatDialog();
  pickNumber=new PickNumberDialog();
  MageFrame.getDesktop().add(combat,JLayeredPane.POPUP_LAYER);
  combat.hideDialog();
  MageFrame.getDesktop().add(pickNumber,JLayeredPane.POPUP_LAYER);
  this.feedbackPanel.setConnectedChatPanel(this.userChatPanel);
  try {
    this.setLayout(new BorderLayout());
    final JLayeredPane j=new JLayeredPane();
    j.setSize(1024,768);
    this.add(j);
    j.add(jSplitPane1,JLayeredPane.DEFAULT_LAYER);
    Map<String,JComponent> ui=getUIComponents(j);
    Plugins.getInstance().updateGamePanel(ui);
    addComponentListener(new ComponentAdapter(){
      @Override public void componentResized(      ComponentEvent e){
        int width=((JComponent)e.getSource()).getWidth();
        int height=((JComponent)e.getSource()).getHeight();
        j.setSize(width,height);
        jSplitPane1.setSize(width,height);
        sizeToScreen();
      }
    }
);
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new RuntimeException(e);
  }
}
