{
  try {
    String foundIP="";
    for (Enumeration<NetworkInterface> interfaces=NetworkInterface.getNetworkInterfaces(); interfaces.hasMoreElements(); ) {
      NetworkInterface iface=interfaces.nextElement();
      if (iface.isLoopback())       continue;
      for (      InterfaceAddress addr : iface.getInterfaceAddresses()) {
        InetAddress iaddr=addr.getAddress();
        if (iaddr instanceof Inet4Address) {
          foundIP=iaddr.getHostAddress();
          break;
        }
      }
      if (foundIP.length() > 0)       break;
    }
    if (foundIP.length() > 0)     return foundIP;
  }
 catch (  SocketException ex) {
    logger.warn("Could not get server address: ",ex);
  }
  return null;
}
