{
  logger.info("Starting MAGE server version " + version);
  logger.info("Logging level: " + logger.getEffectiveLevel());
  deleteSavedGames();
  ConfigSettings config=ConfigSettings.getInstance();
  for (  GamePlugin plugin : config.getGameTypes()) {
    GameFactory.getInstance().addGameType(plugin.getName(),loadGameType(plugin),loadPlugin(plugin));
  }
  for (  GamePlugin plugin : config.getTournamentTypes()) {
    TournamentFactory.getInstance().addTournamentType(plugin.getName(),loadTournamentType(plugin),loadPlugin(plugin));
  }
  for (  Plugin plugin : config.getPlayerTypes()) {
    PlayerFactory.getInstance().addPlayerType(plugin.getName(),loadPlugin(plugin));
  }
  for (  Plugin plugin : config.getDeckTypes()) {
    DeckValidatorFactory.getInstance().addDeckType(plugin.getName(),loadPlugin(plugin));
  }
  String adminPassword="";
  for (  String arg : args) {
    if (arg.startsWith(testModeArg)) {
      testMode=Boolean.valueOf(arg.replace(testModeArg,""));
    }
 else     if (arg.startsWith(adminPasswordArg)) {
      adminPassword=arg.replace(adminPasswordArg,"");
    }
  }
  String host=getServerAddress();
  int port=config.getPort();
  String locatorURI="bisocket://" + host + ":"+ port;
  try {
    InvokerLocator serverLocator=new InvokerLocator(locatorURI);
    server=new MageTransporterServer(serverLocator,new MageServerImpl(adminPassword,testMode),MageServer.class.getName(),new MageServerInvocationHandler());
    server.start();
    logger.info("Started MAGE server - listening on " + host + ":"+ port);
    if (testMode)     logger.info("MAGE server running in test mode");
  }
 catch (  Exception ex) {
    logger.fatal("Failed to start server - " + host + ":"+ port,ex);
  }
}
