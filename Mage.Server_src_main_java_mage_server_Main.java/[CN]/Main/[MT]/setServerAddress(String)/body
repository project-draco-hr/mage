{
  try {
    if (ip.equals("localhost")) {
      ip=InetAddress.getLocalHost().getHostAddress();
    }
  }
 catch (  UnknownHostException ex) {
    logger.warn("Could not get server address: ",ex);
  }
  String ipParam=System.getProperty("server");
  if (ipParam != null) {
    ip=ipParam;
  }
  System.setProperty("java.rmi.server.hostname",ip);
  System.setProperty("sun.rmi.transport.tcp.readTimeout","30000");
  logger.info("MAGE server - using address " + ip);
}
