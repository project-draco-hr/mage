{
  Session session=SessionManager.getInstance().getSession(client.getSessionId());
  if (session != null) {
    StringBuilder sessionInfo=new StringBuilder();
    User user=UserManager.getInstance().getUser(session.getUserId());
    if (user != null) {
      sessionInfo.append(user.getName()).append(" [").append(user.getGameInfo()).append("]");
    }
 else {
      sessionInfo.append("[user missing] ");
    }
    sessionInfo.append(" at ").append(session.getHost()).append(" sessionId: ").append(session.getId());
    if (throwable instanceof ClientDisconnectedException) {
      SessionManager.getInstance().disconnect(client.getSessionId(),DisconnectReason.LostConnection);
      logger.info("CLIENT DISCONNECTED - " + sessionInfo);
      logger.debug("Stack Trace",throwable);
    }
 else {
      SessionManager.getInstance().disconnect(client.getSessionId(),DisconnectReason.LostConnection);
      logger.info("LOST CONNECTION - " + sessionInfo);
      if (logger.isDebugEnabled()) {
        if (throwable == null) {
          logger.debug("- cause: Lease expired");
        }
 else {
          logger.debug(" - cause: " + Session.getBasicCause(throwable).toString());
        }
      }
    }
  }
}
