{
  Session session=SessionManager.getInstance().getSession(client.getSessionId());
  if (session != null) {
    String sessionName;
    User user=UserManager.getInstance().getUser(session.getUserId());
    if (user != null)     sessionName=user.getName() + " at " + session.getHost();
 else     sessionName=session.getHost();
    if (throwable instanceof ClientDisconnectedException) {
      SessionManager.getInstance().disconnect(client.getSessionId(),true);
      logger.info("client disconnected - " + sessionName);
    }
 else {
      SessionManager.getInstance().disconnect(client.getSessionId(),false);
      logger.info("connection to client lost - " + sessionName);
    }
  }
}
